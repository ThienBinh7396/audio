{"remainingRequest":"/home/thien/Documents/Tutorials/NodeJs/audio/node_modules/thread-loader/dist/cjs.js!/home/thien/Documents/Tutorials/NodeJs/audio/node_modules/babel-loader/lib/index.js!/home/thien/Documents/Tutorials/NodeJs/audio/node_modules/eslint-loader/index.js??ref--13-0!/home/thien/Documents/Tutorials/NodeJs/audio/src/store/modules/app/actions.js","dependencies":[{"path":"/home/thien/Documents/Tutorials/NodeJs/audio/src/store/modules/app/actions.js","mtime":1580442338000},{"path":"/home/thien/Documents/Tutorials/NodeJs/audio/node_modules/cache-loader/dist/cjs.js","mtime":1601544776771},{"path":"/home/thien/Documents/Tutorials/NodeJs/audio/node_modules/thread-loader/dist/cjs.js","mtime":1601544776780},{"path":"/home/thien/Documents/Tutorials/NodeJs/audio/node_modules/babel-loader/lib/index.js","mtime":1596448970406},{"path":"/home/thien/Documents/Tutorials/NodeJs/audio/node_modules/eslint-loader/index.js","mtime":1601544779586}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC1pbmRleCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZSI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIi9ob21lL3RoaWVuL0RvY3VtZW50cy9UdXRvcmlhbHMvTm9kZUpzL2F1ZGlvL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0IHsgREIgfSBmcm9tICdAL2ZpcmViYXNlL2RiJzsKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwpleHBvcnQgZGVmYXVsdCB7CiAgaW5pdGlhbGl6ZUlwOiBmdW5jdGlvbiBpbml0aWFsaXplSXAoX3JlZiwgaXApIHsKICAgIHZhciBjb21taXQgPSBfcmVmLmNvbW1pdDsKICAgIGlwID0gYnRvYShpcCk7CiAgICBjb21taXQoJ3NldElwJywgaXApOwogICAgREIuY29sbGVjdGlvbigndXNlcnMnKS5kb2MoIiIuY29uY2F0KGlwKSkuZ2V0KCkudGhlbihmdW5jdGlvbiAoc25hcCkgewogICAgICBpZiAoIXNuYXAuZXhpc3RzKSB7CiAgICAgICAgREIuY29sbGVjdGlvbigndXNlcnMnKS5kb2MoIiIuY29uY2F0KGlwKSkuc2V0KHsKICAgICAgICAgIGNvbmZpZzogewogICAgICAgICAgICB2b2x1bWU6IDEsCiAgICAgICAgICAgIHNwZWVkOiAxLAogICAgICAgICAgICBmb250U2l6ZTogMjQKICAgICAgICAgIH0sCiAgICAgICAgICBzdG9yaWVzOiBbXQogICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHt9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBEQi5jb2xsZWN0aW9uKCd1c2VycycpLmRvYygiIi5jb25jYXQoaXApKS5vblNuYXBzaG90KGZ1bmN0aW9uIChkb2MpIHsKICAgICAgICAgIHZhciBkYXRhID0gZG9jLmRhdGEoKTsKCiAgICAgICAgICBpZiAoIWRhdGEuc3RvcmllcykgewogICAgICAgICAgICBkYXRhLnN0b3JpZXMgPSBbXTsKICAgICAgICAgIH0KCiAgICAgICAgICBjb21taXQoJ3NldENvbmZpZycsIGRhdGEuY29uZmlnKTsKICAgICAgICAgIGNvbW1pdCgnc2V0UmVjZW50U3RvcmllcycsIGRhdGEuc3Rvcmllcyk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0pOwogIH0sCiAgdXBkYXRlQ29uZmlnOiBmdW5jdGlvbiB1cGRhdGVDb25maWcoX3JlZjIsIGNvbmZpZykgewogICAgdmFyIGNvbW1pdCA9IF9yZWYyLmNvbW1pdCwKICAgICAgICBzdGF0ZSA9IF9yZWYyLnN0YXRlOwogICAgaWYgKCFzdGF0ZS5pcCkgcmV0dXJuOwogICAgY29uc29sZS5sb2coc3RhdGUpOwogICAgREIuY29sbGVjdGlvbigndXNlcnMnKS5kb2Moc3RhdGUuaXApLnVwZGF0ZSh7CiAgICAgIGNvbmZpZzogY29uZmlnCiAgICB9KTsKICB9LAogIHNob3dUb2FzdDogZnVuY3Rpb24gc2hvd1RvYXN0KF9yZWYzLCB0b2FzdCkgewogICAgdmFyIGNvbW1pdCA9IF9yZWYzLmNvbW1pdDsKICAgIGNvbW1pdCgnc2V0VG9hc3QnLCB0b2FzdCk7CiAgICBjb21taXQoJ3NldFNob3dUb2FzdCcsIGZhbHNlKTsKICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICBjb21taXQoJ3NldFNob3dUb2FzdCcsIHRydWUpOwogICAgfSwgMTAwKTsKICAgIGNvbnNvbGUubG9nKHRvYXN0KTsKICB9LAogIHVwZGF0ZVJlc3BvbnNpdmVCeVdpZHRoOiBmdW5jdGlvbiB1cGRhdGVSZXNwb25zaXZlQnlXaWR0aChfcmVmNCwgd2lkdGgpIHsKICAgIHZhciBjb21taXQgPSBfcmVmNC5jb21taXQ7CiAgICAvLyAxOiB4cwogICAgLy8gMjogc20KICAgIC8vIDM6IG1kCiAgICAvLyA0OiBsZwogICAgLy8gNTogeGwKICAgIHZhciBycyA9ICdsZyc7CgogICAgc3dpdGNoICh0cnVlKSB7CiAgICAgIGNhc2Ugd2lkdGggPCA1NzY6CiAgICAgICAgcnMgPSAxOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSB3aWR0aCA+PSA1NzYgJiYgd2lkdGggPCA3Njg6CiAgICAgICAgcnMgPSAyOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSB3aWR0aCA+PSA3NjggJiYgd2lkdGggPCA5OTI6CiAgICAgICAgcnMgPSAzOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSB3aWR0aCA+PSA5OTIgJiYgd2lkdGggPCAxMjAwOgogICAgICAgIHJzID0gNDsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2Ugd2lkdGggPj0gMTIwMDoKICAgICAgICBycyA9IDU7CiAgICB9CgogICAgY29tbWl0KCdzZXRSZXNwb25zaXZlJywgcnMpOwogIH0sCiAgdXBkYXRlUmVjZW50bHlTdG9yeTogZnVuY3Rpb24gdXBkYXRlUmVjZW50bHlTdG9yeShfcmVmNSwgcmVjZW50U3RvcnkpIHsKICAgIHZhciBjb21taXQgPSBfcmVmNS5jb21taXQsCiAgICAgICAgc3RhdGUgPSBfcmVmNS5zdGF0ZTsKICAgIGlmICghc3RhdGUuaXApIHJldHVybjsKICAgIERCLmNvbGxlY3Rpb24oJ3VzZXJzJykuZG9jKHN0YXRlLmlwKS5nZXQoKS50aGVuKGZ1bmN0aW9uIChzbmFwKSB7CiAgICAgIHZhciBzdG9yaWVzID0gbnVsbDsKCiAgICAgIGlmICghc25hcC5kYXRhKCkuaGFzT3duUHJvcGVydHkoJ3N0b3JpZXMnKSkgewogICAgICAgIHN0b3JpZXMgPSBbXTsKICAgICAgfSBlbHNlIHsKICAgICAgICBzdG9yaWVzID0gc25hcC5kYXRhKCkuc3RvcmllczsKICAgICAgfQoKICAgICAgdmFyIGluZGV4ID0gc3Rvcmllcy5maW5kSW5kZXgoZnVuY3Rpb24gKGl0KSB7CiAgICAgICAgcmV0dXJuIGl0LmlkID09IHJlY2VudFN0b3J5LnN0b3J5SW5mby5pZDsKICAgICAgfSk7CgogICAgICBpZiAoaW5kZXggPCAwKSB7CiAgICAgICAgVnVlLnByb3RvdHlwZS4kYXhpb3MuZ2V0KCIvc3RvcnkvaW5mbz9pZF9zdG9yeT0iLmNvbmNhdChyZWNlbnRTdG9yeS5zdG9yeUluZm8uaWQpKS50aGVuKGZ1bmN0aW9uIChycykgewogICAgICAgICAgdmFyIGRhdGEgPSBycy5kYXRhOwogICAgICAgICAgc3Rvcmllcy5wdXNoKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgZGF0YS5kYXRhKSwge30sIHsKICAgICAgICAgICAgcmVjZW50Q2hhcHRlcjogewogICAgICAgICAgICAgIGlkOiByZWNlbnRTdG9yeS5jaGFwdGVySWQsCiAgICAgICAgICAgICAgdGl0bGU6IHJlY2VudFN0b3J5LnN0b3J5SW5mby5jaGFwdGVyLAogICAgICAgICAgICAgIGhyZWY6IHJlY2VudFN0b3J5LmNoYXB0ZXJIcmVmLAogICAgICAgICAgICAgIHRpbWU6IERhdGUubm93KCkKICAgICAgICAgICAgfQogICAgICAgICAgfSkpOwogICAgICAgICAgc3Rvcmllcy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7CiAgICAgICAgICAgIHJldHVybiBiLnJlY2VudENoYXB0ZXIudGltZSAtIGEucmVjZW50Q2hhcHRlci50aW1lOwogICAgICAgICAgfSk7CiAgICAgICAgICBEQi5jb2xsZWN0aW9uKCd1c2VycycpLmRvYyhzdGF0ZS5pcCkudXBkYXRlKHsKICAgICAgICAgICAgc3Rvcmllczogc3RvcmllcwogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIHN0b3J5ID0gc3Rvcmllc1tpbmRleF07CiAgICAgICAgc3RvcnkucmVjZW50Q2hhcHRlciA9IHsKICAgICAgICAgIGlkOiByZWNlbnRTdG9yeS5jaGFwdGVySWQsCiAgICAgICAgICBocmVmOiByZWNlbnRTdG9yeS5jaGFwdGVySHJlZiwKICAgICAgICAgIHRpdGxlOiByZWNlbnRTdG9yeS5zdG9yeUluZm8uY2hhcHRlciwKICAgICAgICAgIHRpbWU6IERhdGUubm93KCkKICAgICAgICB9OwogICAgICAgIHN0b3JpZXMuc3BsaWNlKGluZGV4LCAxLCBzdG9yeSk7CiAgICAgICAgc3Rvcmllcy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7CiAgICAgICAgICByZXR1cm4gYi5yZWNlbnRDaGFwdGVyLnRpbWUgLSBhLnJlY2VudENoYXB0ZXIudGltZTsKICAgICAgICB9KTsKICAgICAgICBEQi5jb2xsZWN0aW9uKCd1c2VycycpLmRvYyhzdGF0ZS5pcCkudXBkYXRlKHsKICAgICAgICAgIHN0b3JpZXM6IHN0b3JpZXMKICAgICAgICB9KTsKICAgICAgfQogICAgfSk7CiAgfQp9Ow=="},{"version":3,"sources":["/home/thien/Documents/Tutorials/NodeJs/audio/src/store/modules/app/actions.js"],"names":["DB","Vue","initializeIp","ip","commit","btoa","collection","doc","get","then","snap","exists","set","config","volume","speed","fontSize","stories","err","onSnapshot","data","updateConfig","state","console","log","update","showToast","toast","setTimeout","updateResponsiveByWidth","width","rs","updateRecentlyStory","recentStory","hasOwnProperty","index","findIndex","it","id","storyInfo","prototype","$axios","push","recentChapter","chapterId","title","chapter","href","chapterHref","time","Date","now","sort","a","b","story","splice"],"mappings":"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","sourcesContent":["import { DB } from '@/firebase/db'\r\n\r\nimport Vue from 'vue';\r\n\r\nexport default {\r\n    initializeIp({ commit }, ip) {\r\n        ip = btoa(ip);\r\n\r\n        commit('setIp', ip);\r\n\r\n\r\n\r\n\r\n        DB.collection('users').doc(`${ip}`).get()\r\n            .then(snap => {\r\n                if (!snap.exists) {\r\n                    DB.collection('users').doc(`${ip}`).set({\r\n                        config: {\r\n                            volume: 1,\r\n                            speed: 1,\r\n                            fontSize: 24\r\n                        },\r\n                        stories: []\r\n                    }, (err) => {})\r\n                } else {\r\n\r\n                    DB.collection('users').doc(`${ip}`)\r\n                        .onSnapshot(doc => {\r\n                            let data = doc.data();\r\n\r\n                            if (!data.stories) {\r\n                                data.stories = [];\r\n                            }\r\n\r\n                            commit('setConfig', data.config);\r\n                            commit('setRecentStories', data.stories);\r\n                        });\r\n\r\n\r\n                }\r\n            })\r\n\r\n    },\r\n    updateConfig({ commit, state }, config) {\r\n        if (!state.ip) return;\r\n\r\n        console.log(state);\r\n\r\n\r\n        DB.collection('users').doc(state.ip)\r\n            .update({\r\n                config\r\n            })\r\n    },\r\n    showToast({ commit }, toast) {\r\n        commit('setToast', toast);\r\n\r\n        commit('setShowToast', false);\r\n        setTimeout(() => {\r\n            commit('setShowToast', true);\r\n        }, 100)\r\n        console.log(toast);\r\n    },\r\n    updateResponsiveByWidth: ({ commit }, width) => {\r\n        // 1: xs\r\n        // 2: sm\r\n        // 3: md\r\n        // 4: lg\r\n        // 5: xl\r\n\r\n        let rs = 'lg';\r\n\r\n        switch (true) {\r\n            case (width < 576):\r\n                rs = 1;\r\n                break;\r\n\r\n            case (width >= 576 && width < 768):\r\n                rs = 2;\r\n                break;\r\n\r\n            case (width >= 768 && width < 992):\r\n                rs = 3;\r\n                break;\r\n\r\n            case (width >= 992 && width < 1200):\r\n                rs = 4;\r\n                break;\r\n\r\n            case (width >= 1200):\r\n                rs = 5;\r\n\r\n        }\r\n\r\n        commit('setResponsive', rs);\r\n\r\n    },\r\n    updateRecentlyStory({ commit, state }, recentStory) {\r\n        if (!state.ip) return;\r\n\r\n\r\n        DB.collection('users').doc(state.ip)\r\n            .get()\r\n            .then(snap => {\r\n                let stories = null;\r\n\r\n                if (!snap.data().hasOwnProperty('stories')) {\r\n                    stories = [];\r\n                } else {\r\n                    stories = snap.data().stories;\r\n                }\r\n\r\n                let index = stories.findIndex(it => it.id == recentStory.storyInfo.id);\r\n\r\n                if (index < 0) {\r\n                    Vue.prototype.$axios.get(`/story/info?id_story=${recentStory.storyInfo.id}`)\r\n                        .then(rs => {\r\n                            let { data } = rs;\r\n\r\n                            stories.push({\r\n                                ...data.data,\r\n                                recentChapter: {\r\n                                    id: recentStory.chapterId,\r\n                                    title: recentStory.storyInfo.chapter,\r\n                                    href: recentStory.chapterHref,\r\n                                    time: Date.now()\r\n                                }\r\n                            })\r\n\r\n                            stories.sort((a, b) => b.recentChapter.time - a.recentChapter.time);\r\n\r\n                            DB.collection('users').doc(state.ip)\r\n                                .update({ stories });\r\n\r\n                        })\r\n\r\n\r\n                } else {\r\n                    let story = stories[index];\r\n\r\n                    story.recentChapter = {\r\n                        id: recentStory.chapterId,\r\n                        href: recentStory.chapterHref,\r\n                        title: recentStory.storyInfo.chapter,\r\n                        time: Date.now()\r\n                    };\r\n\r\n\r\n                    stories.splice(index, 1, story);\r\n\r\n                    stories.sort((a, b) => b.recentChapter.time - a.recentChapter.time);\r\n\r\n                    DB.collection('users').doc(state.ip)\r\n                        .update({ stories });\r\n\r\n                }\r\n\r\n            })\r\n    }\r\n}"]}]}