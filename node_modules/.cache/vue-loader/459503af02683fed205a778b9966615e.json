{"remainingRequest":"/home/thien/Documents/Tutorials/NodeJs/audio/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/thien/Documents/Tutorials/NodeJs/audio/src/views/pages/ContentChapterRsVAudio2.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/thien/Documents/Tutorials/NodeJs/audio/src/views/pages/ContentChapterRsVAudio2.vue","mtime":1604075048000},{"path":"/home/thien/Documents/Tutorials/NodeJs/audio/node_modules/babel-loader/lib/index.js","mtime":1596448970406},{"path":"/home/thien/Documents/Tutorials/NodeJs/audio/node_modules/cache-loader/dist/cjs.js","mtime":1601544776771},{"path":"/home/thien/Documents/Tutorials/NodeJs/audio/node_modules/vue-loader/lib/index.js","mtime":1604375615900}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgew0KICBtYXBTdGF0ZSwNCiAgbWFwQWN0aW9ucywNCiAgbWFwTXV0YXRpb25zDQp9IGZyb20gJ3Z1ZXgnOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIGNvbXBvbmVudHM6IHsNCiAgICBDaGFwdGVyOiAoKSA9Pg0KICAgICAgaW1wb3J0KCdAL3ZpZXdzL3BhcnRpYWxzL0NoYXB0ZXJzJyksDQoNCiAgICBVc2VyQ29uZmlnRGlhbG9nOiAoKSA9Pg0KICAgICAgaW1wb3J0KCdAL3ZpZXdzL3BhcnRpYWxzL1VzZXJDb25maWdEaWFsb2cudnVlJykNCiAgfSwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgZmFiOiB0cnVlLA0KICAgICAgZGlhbG9nOiBmYWxzZSwNCiAgICAgIGRpYWxvZ1NldHRpbmc6IGZhbHNlLA0KICAgICAgZGlhbG9nU2VhcmNoOiBmYWxzZSwNCiAgICAgIGRpYWxvZ1RpbWVyOiBmYWxzZSwNCiAgICAgIHNob3dUaW1lcjogZmFsc2UsDQogICAgICBjb3VudERvd246IG51bGwsDQogICAgICBzdG9yeV91cmw6ICcnLA0KICAgICAgY2hhcHRlcl91cmw6ICcnLA0KICAgICAgY2hhcHRlcl9pZDogLTEsDQogICAgICBzdG9yeUluZm86IHt9LA0KICAgICAgY2hhcHRlcnM6IFtdLA0KICAgICAgbG9hZGluZzogZmFsc2UsDQogICAgICBsb2FkaW5nTmV3Q2hhcHRlcjogZmFsc2UsDQogICAgICBjdXJyZW50TGluZTogMCwNCiAgICAgIHBhdGhJbkxpbmU6IFtdLA0KICAgICAgcmVhZGluZzogZmFsc2UsDQogICAgICB2b2ljZTogJ1ZpZXRuYW1lc2UgRmVtYWxlJywNCiAgICAgIHNjcm9sbFRvcDogZmFsc2UsDQogICAgICBjdXJyZW50U2Nyb2xsUG9pbnQ6IDAsDQogICAgICBhdWRpbzogbnVsbCwNCiAgICAgIGF1ZGlvQ291bnRFcnJvcjogMCwNCiAgICAgIGF1ZGlvQW5vdGhlcjogbnVsbCwNCiAgICAgIGF1ZGlvQW5vdGhlckNvdW50RXJyb3I6IDAsDQogICAgICBjdXJyZW50QXVkaW86ICdhdWRpbycNCiAgICB9DQogIH0sDQogIGNyZWF0ZWQoKSB7DQogICAgdGhpcy5pbml0KCk7DQoNCiAgfSwNCiAgY29tcHV0ZWQ6IHsNCiAgICAuLi5tYXBTdGF0ZSgnYXBwJywgWydjb25maWcnLCAnZGV0ZWN0TW9iaWxlJywgJ3JlY2VudFN0b3JpZXMnXSksDQogIH0sDQogIHdhdGNoOiB7DQogICAgJHJvdXRlOiBmdW5jdGlvbiAodmFsKSB7DQogICAgICB0aGlzLmRpYWxvZyA9IGZhbHNlOw0KDQogICAgICB0aGlzLmluaXQoKTsNCiAgICB9LA0KICAgIGNvbmZpZzogZnVuY3Rpb24gKHZhbCkgew0KICAgICAgY29uc29sZS5sb2coJ0F1ZGlvOiAnKTsNCiAgICAgIGNvbnNvbGUubG9nKHZhbCk7DQoNCiAgICAgIHRoaXMudXBkYXRlQ29uZmlnKCk7DQoNCiAgICB9DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICAuLi5tYXBNdXRhdGlvbnMoJ2FwcCcsIFsnc2V0TmF2JywgJ3NldFRpdGxlJywgJ3NldFNob3dTZWFyY2gnLCAnc2V0VG9wQmFja2dyb3VuZCddKSwNCiAgICAuLi5tYXBBY3Rpb25zKCdhcHAnLCBbJ3Nob3dUb2FzdCcsICd1cGRhdGVSZWNlbnRseVN0b3J5J10pLA0KICAgIGluaXQ6IGZ1bmN0aW9uICgpIHsNCiAgICAgIGxldCB7DQogICAgICAgIHN0b3J5X3VybCwNCiAgICAgICAgY2hhcHRlcl91cmwsDQogICAgICAgIGNoYXB0ZXJfaWQNCiAgICAgIH0gPSB0aGlzLiRyb3V0ZS5wYXJhbXM7DQoNCiAgICAgIHRoaXMuc3RvcnlfdXJsID0gc3RvcnlfdXJsOw0KICAgICAgdGhpcy5jaGFwdGVyX3VybCA9IGNoYXB0ZXJfdXJsOw0KICAgICAgdGhpcy5jaGFwdGVyX2lkID0gY2hhcHRlcl9pZDsNCg0KICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsNCiAgICAgIHRoaXMubG9hZENvbnRlbnQoKTsNCiAgICB9LA0KICAgIGxvYWRDb250ZW50OiBmdW5jdGlvbiAoKSB7DQogICAgICB0aGlzLiRheGlvcy5nZXQoYC9zdG9yeS9yZWFkYCwgew0KICAgICAgICAgIHBhcmFtczogew0KICAgICAgICAgICAgc3RvcnlfdXJsOiB0aGlzLnN0b3J5X3VybCwNCiAgICAgICAgICAgIGNoYXB0ZXJfdXJsOiB0aGlzLmNoYXB0ZXJfdXJsDQogICAgICAgICAgfQ0KICAgICAgICB9KQ0KICAgICAgICAudGhlbihycyA9PiB7DQogICAgICAgICAgbGV0IHsNCiAgICAgICAgICAgIGRhdGENCiAgICAgICAgICB9ID0gcnM7DQoNCiAgICAgICAgICBpZiAoZGF0YS50eXBlID09ICdlcnJvcicgfHwgZGF0YS5kYXRhLmlkID09IG51bGwgfHwgIWRhdGEuZGF0YS50aXRsZV9zdG9yeSkgew0KICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy80MDQnKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICB9DQoNCiAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsNCiAgICAgICAgICB0aGlzLmxvYWRpbmdOZXdDaGFwdGVyID0gZmFsc2U7DQoNCiAgICAgICAgICBsZXQgY29udGVudHMgPSBkYXRhLmRhdGEuY29udGVudC5zcGxpdCgvXG4rLykuZmlsdGVyKGl0ID0+IGl0ICYmIGl0LnRyaW0oKS5sZW5ndGggIT0gJycpOw0KDQogICAgICAgICAgZGF0YS5kYXRhLmNvbnRlbnQgPSBjb250ZW50czsNCg0KICAgICAgICAgIHRoaXMuc3RvcnlJbmZvID0gZGF0YS5kYXRhOw0KICAgICAgICAgIHRoaXMuY3VycmVudExpbmUgPSAwOw0KDQogICAgICAgICAgaWYgKHRoaXMucmVhZGluZykgew0KICAgICAgICAgICAgdGhpcy5jdXJyZW50QXVkaW8gPSAnYXVkaW8nOw0KDQogICAgICAgICAgICB0aGlzLmF1ZGlvLnNyYyA9IHRoaXMuZ2V0VXJsKHRoaXMuY3VycmVudExpbmUpOw0KDQogICAgICAgICAgICB0aGlzLnNwZWFrKCk7DQoNCiAgICAgICAgICB9DQoNCiAgICAgICAgICB0aGlzLnNldE5hdihbew0KICAgICAgICAgICAgICBwYXRoOiAnLycsDQogICAgICAgICAgICAgIHRleHQ6ICdUcmFuZyBjaOG7pycNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgIHBhdGg6IGAvc3RvcnkvJHt0aGlzLnN0b3J5SW5mby51cmxfc3Rvcnl9LyR7dGhpcy5zdG9yeUluZm8uaWR9YCwNCiAgICAgICAgICAgICAgdGV4dDogdGhpcy5zdG9yeUluZm8udGl0bGVfc3RvcnkNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgIHBhdGg6IGBgLA0KICAgICAgICAgICAgICB0ZXh0OiB0aGlzLnN0b3J5SW5mby5jaGFwdGVyDQogICAgICAgICAgICB9LA0KDQogICAgICAgICAgXSkNCg0KICAgICAgICAgIHRoaXMuc2V0VGl0bGUoYCR7dGhpcy5zdG9yeUluZm8udGl0bGVfc3Rvcnl9IC0gJHt0aGlzLnN0b3J5SW5mby5jaGFwdGVyfWApOw0KDQogICAgICAgICAgd2luZG93Lmhpc3RvcnkucmVwbGFjZVN0YXRlKHt9LCAiIiwgYC9yZWFkL3N0b3J5LyR7dGhpcy5zdG9yeV91cmx9LyR7dGhpcy5jaGFwdGVyX3VybH0vJHt0aGlzLmNoYXB0ZXJfaWR9YCk7DQoNCiAgICAgICAgICB0aGlzLnNjcm9sbFRvVG9wKHRydWUpOw0KDQogICAgICAgICAgaWYgKHRoaXMucmVhZGluZykgdGhpcy5zcGVhaygpOw0KDQogICAgICAgICAgdGhpcy51cGRhdGVSZWNlbnRseVN0b3J5KHsNCiAgICAgICAgICAgIHN0b3J5SW5mbzogdGhpcy5zdG9yeUluZm8sDQogICAgICAgICAgICBjaGFwdGVySWQ6IHRoaXMuJHJvdXRlLnBhcmFtcy5jaGFwdGVyX2lkLA0KICAgICAgICAgICAgY2hhcHRlckhyZWY6IHRoaXMuJHJvdXRlLnBhcmFtcy5jaGFwdGVyX3VybA0KICAgICAgICAgIH0pOw0KDQogICAgICAgICAgbGV0IGluZGV4ID0gdGhpcy5yZWNlbnRTdG9yaWVzLmZpbmRJbmRleChpdCA9PiBpdC5pZCA9PSB0aGlzLnN0b3J5SW5mby5pZCk7DQoNCiAgICAgICAgICBpZiAoaW5kZXggPj0gMCkgew0KICAgICAgICAgICAgdGhpcy5zZXRUb3BCYWNrZ3JvdW5kKGltYWdlVXJsKHRoaXMucmVjZW50U3Rvcmllc1tpbmRleF0uaW1hZ2UpKTsNCiAgICAgICAgICB9DQoNCiAgICAgICAgfSkNCiAgICB9LA0KICAgIHVwZGF0ZUNvbmZpZzogZnVuY3Rpb24gKCkgew0KICAgICAgaWYgKHRoaXMuYXVkaW8pIHsNCiAgICAgICAgdGhpcy5hdWRpby52b2x1bWUgPSB0aGlzLmNvbmZpZy52b2x1bWU7DQogICAgICAgIHRoaXMuYXVkaW8ucGxheWJhY2tSYXRlID0gdGhpcy5jb25maWcuc3BlZWQ7DQogICAgICB9DQoNCiAgICAgIGlmICh0aGlzLmF1ZGlvQW5vdGhlcikgew0KICAgICAgICB0aGlzLmF1ZGlvQW5vdGhlci52b2x1bWUgPSB0aGlzLmNvbmZpZy52b2x1bWU7DQogICAgICAgIHRoaXMuYXVkaW9Bbm90aGVyLnBsYXliYWNrUmF0ZSA9IHRoaXMuY29uZmlnLnNwZWVkOw0KICAgICAgfQ0KDQogICAgfSwNCiAgICBzZWxlY3Q6IGZ1bmN0aW9uICgpIHsNCiAgICAgIGxldCBzZWxlY3RUZXh0ID0gJyc7DQoNCiAgICAgIGlmICh3aW5kb3cuZ2V0U2VsZWN0aW9uKSB7DQogICAgICAgIGNvbnNvbGUubG9nKHdpbmRvdy5nZXRTZWxlY3Rpb24pOw0KICAgICAgICBzZWxlY3RUZXh0ID0gd2luZG93LmdldFNlbGVjdGlvbigpLnRvU3RyaW5nKCk7DQogICAgICB9IGVsc2UgaWYgKGRvY3VtZW50LnNlbGVjdGlvbikgew0KICAgICAgICBjb25zb2xlLmxvZyhkb2N1bWVudC5zZWxlY3Rpb24pOw0KICAgICAgICBzZWxlY3RUZXh0ID0gZG9jdW1lbnQuc2VsZWN0aW9uLmNyZWF0ZVJhbmdlKCkudGV4dDsNCiAgICAgIH0NCg0KICAgICAgaWYgKHNlbGVjdFRleHQubGVuZ3RoICE9IDApIHsNCiAgICAgICAgdGhpcy5zcGVhayhzZWxlY3RUZXh0LCBmYWxzZSk7DQogICAgICB9DQoNCiAgICB9LA0KICAgIHN0YXJ0U3BlYWs6IGZ1bmN0aW9uIChzcGVhayA9IHRydWUpIHsNCg0KICAgICAgdGhpcy5yZWFkaW5nID0gIXRoaXMucmVhZGluZzsNCiAgICAgIGlmICghc3BlYWspIHRoaXMucmVhZGluZyA9IGZhbHNlOw0KDQogICAgICBpZiAodGhpcy5yZWFkaW5nKSB7DQogICAgICAgIGlmICh0aGlzLmN1cnJlbnRMaW5lID09IDApIHsNCiAgICAgICAgICB0aGlzLmF1ZGlvLnNyYyA9IHRoaXMuZ2V0VXJsKHRoaXMuY3VycmVudExpbmUpOw0KDQogICAgICAgICAgdGhpcy5zcGVhaygpOw0KDQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgdGhpc1t0aGlzLmN1cnJlbnRBdWRpb10ucGxheSgpOw0KDQogICAgICAgIH0NCg0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy5hdWRpby5wYXVzZSgpOw0KICAgICAgICB0aGlzLmF1ZGlvQW5vdGhlci5wYXVzZSgpOw0KDQogICAgICB9DQogICAgfSwNCiAgICBsb2Fkc3RhcnQ6IGZ1bmN0aW9uIChyZWYpIHsNCiAgICAgIGNvbnNvbGUubG9nKHJlZik7DQoNCiAgICB9LA0KICAgIHBsYXk6IGZ1bmN0aW9uIChyZWYpIHsNCiAgICAgIHRoaXMudXBkYXRlQ29uZmlnKCk7DQoNCiAgICB9LA0KICAgIHBsYXlpbmc6IGZ1bmN0aW9uIChyZWYpIHsNCiAgICAgIGlmIChyZWYgPT0gJ2F1ZGlvJykgew0KICAgICAgICB0aGlzLmF1ZGlvQ291bnRFcnJvciA9IDA7DQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLmF1ZGlvQW5vdGhlckNvdW50RXJyb3IgPSAwOw0KDQogICAgICB9DQoNCiAgICAgIGlmICh0aGlzLmN1cnJlbnRBdWRpbyAhPSByZWYpIHsNCg0KICAgICAgICB0aGlzW3JlZl0ucGF1c2UoKTsNCiAgICAgICAgdGhpc1tyZWZdLmN1cnJlbnRUaW1lID0gMDsNCg0KICAgICAgfQ0KDQogICAgfSwNCiAgICBlbmRlZDogZnVuY3Rpb24gKCkgew0KICAgICAgaWYgKHRoaXMuY3VycmVudExpbmUgPT0gdGhpcy5zdG9yeUluZm8uY29udGVudC5sZW5ndGggLSAxICYmIHRoaXMuZ2V0SW5kZXgoKSAhPSB0aGlzLmNoYXB0ZXJzLmxlbmd0aCAtIDEpIHsNCiAgICAgICAgcmVzcG9uc2l2ZVZvaWNlLnNwZWFrKGBDaMawxqFuZyB0aeG6v3AhICR7dGhpcy5jaGFwdGVyc1t0aGlzLmdldEluZGV4KCkgKyAxXS50aXRsZX19YCwgdGhpcy52b2ljZSwgew0KICAgICAgICAgIHJhdGU6IDEuMw0KICAgICAgICB9KTsNCg0KICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsNCiAgICAgICAgICB0aGlzLm5leHQoKTsNCg0KICAgICAgICB9LCAyNTAwKTsNCg0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy5uZXh0KCk7DQogICAgICB9DQoNCiAgICB9LA0KICAgIGVycm9yOiBmdW5jdGlvbiAocmVmKSB7DQogICAgICBjb25zb2xlLmxvZygiZXJyb3I6ICIgKyByZWYpOw0KDQogICAgICBzZXRUaW1lb3V0KCgpID0+IHsNCg0KICAgICAgICBsZXQgdGV4dCA9IHRoaXNbcmVmXS5zcmMubWF0Y2goL1w/dGV4dD0oPzx0ZXh0Pi4qPykmLylbMV07DQoNCiAgICAgICAgaWYgKHRleHRbdGV4dC5sZW5ndGggLSAxXSA9PSAnLicpIHsNCiAgICAgICAgICB0ZXh0ID0gdGV4dC5zdWJzdHJpbmcoMCwgdGV4dC5sZW5ndGggLSAxKQ0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHRleHQgPSBgJHt0ZXh0fS5gDQogICAgICAgIH0NCg0KICAgICAgICBsZXQgY2hlY2sgPSBmYWxzZTsNCg0KICAgICAgICBpZiAocmVmID09ICdhdWRpbycpIHsNCiAgICAgICAgICB0aGlzLmF1ZGlvQ291bnRFcnJvcisrOw0KICAgICAgICAgIGlmICh0aGlzLmF1ZGlvQ291bnRFcnJvciA+PSAyKSB7DQogICAgICAgICAgICBjaGVjayA9IHRydWU7DQoNCiAgICAgICAgICB9DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgdGhpcy5hdWRpb0Fub3RoZXJDb3VudEVycm9yKys7DQoNCiAgICAgICAgICBpZiAodGhpcy5hdWRpb0Fub3RoZXJDb3VudEVycm9yID49IDIpIHsNCiAgICAgICAgICAgIGNoZWNrID0gdHJ1ZTsNCg0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgIGlmICh0aGlzLmN1cnJlbnRBdWRpbyA9PSByZWYgJiYgY2hlY2spIHsNCg0KICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuY3VycmVudExpbmUpOw0KICAgICAgICAgIHRoaXMuYXVkaW9Bbm90aGVyQ291bnRFcnJvciA9IDA7DQogICAgICAgICAgdGhpcy5hdWRpb0NvdW50RXJyb3IgPSAwOw0KICAgICAgICAgIHRoaXMubmV4dCgpOw0KDQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgdGhpc1tyZWZdLnNyYyA9IHRoaXMuZ2V0VXJsV2l0aFRleHQodGV4dCk7DQoNCiAgICAgICAgICBpZiAodGhpcy5jdXJyZW50QXVkaW8gPT0gcmVmKSB7DQogICAgICAgICAgICB0aGlzW3JlZl0ubG9hZCgpOw0KICAgICAgICAgICAgdGhpc1tyZWZdLnBsYXkoKTsNCiAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgfSwgMTUwMCkNCiAgICB9LA0KICAgIGdldFVybDogZnVuY3Rpb24gKGluZGV4KSB7DQogICAgICBsZXQgdGV4dCA9IGVuY29kZVVSSSh0aGlzLnN0b3J5SW5mby5jb250ZW50W2luZGV4XSk7DQogICAgICAvL2xldCB0ZXh0ID0gdGhpcy5zdG9yeUluZm8uY29udGVudFtpbmRleF07DQoNCiAgICAgIGNvbnNvbGUubG9nKHRoaXMuc3RvcnlJbmZvLmNvbnRlbnRbaW5kZXhdKTsNCg0KICAgICAgLy8gaWYgKHRleHRbdGV4dC5sZW5ndGggLSAxXSA9PSAnLicpIHsNCiAgICAgIC8vICAgICB0ZXh0ID0gdGV4dC5zdWJzdHJpbmcoMCwgdGV4dC5sZW5ndGggLSAxKQ0KICAgICAgLy8gfQ0KDQogICAgICByZXR1cm4gYGh0dHBzOi8vY29kZS5yZXNwb25zaXZldm9pY2Uub3JnL2dldHZvaWNlLnBocD90ZXh0PSR7dGV4dH0mbGFuZz12aSZlbmdpZT1nMSZyYXRlPTAuNTMmdm9sdW1lPTEma2V5PXV1OERFa3h6JmdlbmRlcj1mZW1hbGVgDQogICAgICAvL3JldHVybiBgaHR0cHM6Ly90ZXh0dG9zcGVlY2gucmVzcG9uc2l2ZXZvaWNlLm9yZy92MS90ZXh0OnN5bnRoZXNpemU/dGV4dD0ke3RleHR9Jmxhbmc9dmkmZW5naW5lPWcxJnJhdGU9MC41MyZ2b2x1bWU9MSZrZXk9MzJoRFg0SEomZ2VuZGVyPWZlbWFsZWANCiAgICB9LA0KICAgIGdldFVybFdpdGhUZXh0OiBmdW5jdGlvbiAodGV4dCkgew0KICAgICAgcmV0dXJuIGBodHRwczovL2NvZGUucmVzcG9uc2l2ZXZvaWNlLm9yZy9nZXR2b2ljZS5waHA/dGV4dD0ke3RleHR9Jmxhbmc9dmkmZW5naWU9ZzEmcmF0ZT0wLjUzJnZvbHVtZT0xJmtleT11dThERWt4eiZnZW5kZXI9ZmVtYWxlYA0KICAgICAgLy9yZXR1cm4gYGh0dHBzOi8vdGV4dHRvc3BlZWNoLnJlc3BvbnNpdmV2b2ljZS5vcmcvdjEvdGV4dDpzeW50aGVzaXplP3RleHQ9JHt0ZXh0fSZsYW5nPXZpJmVuZ2luZT1nMSZyYXRlOiAwLjUzJnZvbHVtZT0xJmtleT0zMmhEWDRISiZnZW5kZXI9ZmVtYWxlYA0KICAgIH0sDQogICAgc3BlYWs6IGZ1bmN0aW9uICgpIHsNCg0KICAgICAgbGV0IGEgPSB0aGlzLmN1cnJlbnRBdWRpbyA9PSAnYXVkaW8nID8gJ2F1ZGlvQW5vdGhlcicgOiAnYXVkaW8nOw0KDQogICAgICB0aGlzW2FdLnNyYyA9IHRoaXMuY3VycmVudExpbmUgPT0gdGhpcy5zdG9yeUluZm8uY29udGVudC5sZW5ndGggLSAxID8gJy9hdWRpby90ZW1wLWF1ZGlvLm1wMycgOiB0aGlzLmdldFVybCh0aGlzLmN1cnJlbnRMaW5lICsgMSk7DQoNCiAgICAgIHRoaXNbYV0ubG9hZCgpOw0KDQogICAgICAvL2NvbnNvbGUubG9nKHRoaXNbYV0pOw0KDQogICAgICB0aGlzW3RoaXMuY3VycmVudEF1ZGlvXS5wbGF5KCk7DQoNCiAgICAgIHRoaXMuc2Nyb2xsVGV4dCgpOw0KICAgIH0sDQogICAgc3RhcnRTcGVha0xpbmU6IGZ1bmN0aW9uIChpbmRleCkgew0KICAgICAgaWYgKHRoaXMuY3VycmVudExpbmUgPT0gaW5kZXgpIHsNCiAgICAgICAgdGhpcy5zdGFydFNwZWFrKCk7DQoNCiAgICAgICAgcmV0dXJuOw0KICAgICAgfQ0KDQogICAgICBpZiAoIXRoaXMucmVhZGluZykgew0KICAgICAgICB0aGlzLnJlYWRpbmcgPSB0cnVlOw0KICAgICAgfQ0KICAgICAgdGhpcy5jdXJyZW50TGluZSA9IGluZGV4Ow0KICAgICAgdGhpcy5jdXJyZW50QXVkaW8gPSAnYXVkaW8nOw0KDQogICAgICB0aGlzLmF1ZGlvLnNyYyA9IHRoaXMuZ2V0VXJsKHRoaXMuY3VycmVudExpbmUpOw0KDQogICAgICB0aGlzLnNwZWFrKCk7DQogICAgfSwNCiAgICBuZXh0OiBmdW5jdGlvbiAoKSB7DQogICAgICB0aGlzLmN1cnJlbnRMaW5lKys7DQogICAgICBjb25zb2xlLmxvZygnTmV4dDogJyArIHRoaXMuY3VycmVudExpbmUpOw0KDQogICAgICB0aGlzLmN1cnJlbnRBdWRpbyA9IHRoaXMuY3VycmVudEF1ZGlvID09ICdhdWRpbycgPyAnYXVkaW9Bbm90aGVyJyA6ICdhdWRpbyc7DQoNCiAgICAgIGlmICh0aGlzLmN1cnJlbnRMaW5lID09IHRoaXMuc3RvcnlJbmZvLmNvbnRlbnQubGVuZ3RoKSB7DQogICAgICAgIGNvbnNvbGUubG9nKCdFbmQgY2hhcHRlcicpOw0KDQogICAgICAgIHRoaXMubmV4dENoYXB0ZXIoKTsNCg0KICAgICAgICByZXR1cm47DQogICAgICB9DQoNCiAgICAgIHRoaXMuc3BlYWsoKTsNCiAgICB9LA0KDQogICAgbmV4dENoYXB0ZXI6IGZ1bmN0aW9uICgpIHsNCg0KICAgICAgaWYgKHRoaXMuY2hhcHRlcnMubGVuZ3RoID09IDApIHsNCiAgICAgICAgdGhpcy5zaG93VG9hc3Qoew0KICAgICAgICAgIHR5cGU6ICdpbmZvJywNCiAgICAgICAgICB0ZXh0OiAnQ2jGsMahbmcgY3Xhu5FpIScNCiAgICAgICAgfSk7DQoNCiAgICAgICAgdGhpcy5sb2FkaW5nTmV3Q2hhcHRlciA9IGZhbHNlOw0KICAgICAgICByZXR1cm47DQogICAgICB9DQogICAgICBsZXQgaW5kZXggPSB0aGlzLmdldEluZGV4KCk7DQoNCiAgICAgIGlmIChpbmRleCAhPSB0aGlzLmNoYXB0ZXJzLmxlbmd0aCAtIDEpIHsNCiAgICAgICAgdGhpcy5jaGFwdGVyX2lkID0gdGhpcy5jaGFwdGVyc1tpbmRleCArIDFdLmNoYXB0ZXJJZDsNCiAgICAgICAgdGhpcy5jaGFwdGVyX3VybCA9IHRoaXMuY2hhcHRlcnNbaW5kZXggKyAxXS5ocmVmOw0KDQogICAgICAgIGlmICh0aGlzLmxvYWRpbmdOZXdDaGFwdGVyKSByZXR1cm47DQoNCiAgICAgICAgdGhpcy5sb2FkaW5nTmV3Q2hhcHRlciA9IHRydWU7DQoNCiAgICAgICAgdGhpcy5sb2FkQ29udGVudCgpOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy5zaG93VG9hc3Qoew0KICAgICAgICAgIHR5cGU6ICdpbmZvJywNCiAgICAgICAgICB0ZXh0OiAnQ2jGsMahbmcgY3Xhu5FpIScNCiAgICAgICAgfSkNCiAgICAgIH0NCiAgICAgIGNvbnNvbGUubG9nKHRoaXMuY2hhcHRlcl9pZCwgaW5kZXgpOw0KDQogICAgfSwNCiAgICBwcmV2Q2hhcHRlcjogZnVuY3Rpb24gKCkgew0KICAgICAgdGhpcy5sb2FkaW5nTmV3Q2hhcHRlciA9IHRydWU7DQoNCiAgICAgIGlmICh0aGlzLmNoYXB0ZXJzLmxlbmd0aCA9PSAwKSB7DQogICAgICAgIHRoaXMuc2hvd1RvYXN0KHsNCiAgICAgICAgICB0eXBlOiAnaW5mbycsDQogICAgICAgICAgdGV4dDogJ0NoxrDGoW5nIGN14buRaSEnDQogICAgICAgIH0pOw0KDQogICAgICAgIHRoaXMubG9hZGluZ05ld0NoYXB0ZXIgPSBmYWxzZTsNCiAgICAgICAgcmV0dXJuOw0KICAgICAgfQ0KICAgICAgbGV0IGluZGV4ID0gdGhpcy5nZXRJbmRleCgpOw0KDQogICAgICBpZiAoaW5kZXggIT0gMCkgew0KICAgICAgICB0aGlzLmNoYXB0ZXJfaWQgPSB0aGlzLmNoYXB0ZXJzW2luZGV4IC0gMV0uY2hhcHRlcklkOw0KICAgICAgICB0aGlzLmNoYXB0ZXJfdXJsID0gdGhpcy5jaGFwdGVyc1tpbmRleCAtIDFdLmhyZWY7DQoNCiAgICAgICAgdGhpcy5sb2FkQ29udGVudCgpOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy5zaG93VG9hc3Qoew0KICAgICAgICAgIHR5cGU6ICdpbmZvJywNCiAgICAgICAgICB0ZXh0OiAnQ2jGsMahbmcgxJHhuqd1IHRpw6puLiBLaMO0bmcgdGjhu4MgdHLhu58gduG7gSEnDQogICAgICAgIH0pDQogICAgICB9DQogICAgICBjb25zb2xlLmxvZyh0aGlzLmNoYXB0ZXJfaWQsIGluZGV4KTsNCg0KICAgIH0sDQogICAgc2Nyb2xsVGV4dDogZnVuY3Rpb24gKCkgew0KICAgICAgbGV0IG9iakRpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBqcy1saW5lLSR7dGhpcy5jdXJyZW50TGluZX1gKTsNCiAgICAgIGlmICghb2JqRGl2KSByZXR1cm47DQoNCiAgICAgICQoZG9jdW1lbnQuYm9keSkuYW5pbWF0ZSh7DQogICAgICAgIHNjcm9sbFRvcDogb2JqRGl2Lm9mZnNldFRvcA0KICAgICAgfSwgMTAwKQ0KDQogICAgfSwNCiAgICBzY3JvbGxUb1RvcDogZnVuY3Rpb24gKG9ubHlUb3ApIHsNCg0KICAgICAgbGV0IGhlaWdodCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBtYWluLWNvbnRlbnRgKS5vZmZzZXRIZWlnaHQ7DQoNCiAgICAgIGxldCBkaXYgPSBkb2N1bWVudC5ib2R5Ow0KDQogICAgICBpZiAob25seVRvcCkgew0KICAgICAgICAkKGRpdikuYW5pbWF0ZSh7DQogICAgICAgICAgc2Nyb2xsVG9wOiAtaGVpZ2h0DQogICAgICAgIH0sIDMwMCkNCg0KICAgICAgICByZXR1cm47DQogICAgICB9DQoNCiAgICAgICQoZGl2KS5hbmltYXRlKHsNCiAgICAgICAgc2Nyb2xsVG9wOiB0aGlzLnNjcm9sbFRvcCA/IC1oZWlnaHQgOiBoZWlnaHQsDQogICAgICB9LCAzMDApDQoNCiAgICB9LA0KICAgIHNjcm9sbFRvOiBmdW5jdGlvbiAobnVtKSB7DQogICAgICBsZXQgb2Zmc2V0ID0gZG9jdW1lbnQuYm9keS5zY3JvbGxUb3AgKyBudW07DQoNCiAgICAgICQoZG9jdW1lbnQuYm9keSkuYW5pbWF0ZSh7DQogICAgICAgIHNjcm9sbFRvcDogb2Zmc2V0DQogICAgICB9LCAxMDApDQogICAgfSwNCiAgICBnZXRDaGFwdGVyczogZnVuY3Rpb24gKGNoYXBzKSB7DQogICAgICB0aGlzLmNoYXB0ZXJzID0gY2hhcHM7DQogICAgfSwNCiAgICBnZXRJbmRleDogZnVuY3Rpb24gKCkgew0KICAgICAgcmV0dXJuIHRoaXMuY2hhcHRlcnMuZmluZEluZGV4KGl0ID0+IGl0LmNoYXB0ZXJJZCA9PSB0aGlzLmNoYXB0ZXJfaWQpOw0KICAgIH0sDQogICAgY2hlY2tOdW1iZXI6IGZ1bmN0aW9uICgkZXZlbnQpIHsNCiAgICAgIHJldHVybiAkZXZlbnQua2V5Q29kZSA+PSA0OCAmJiAkZXZlbnQua2V5Q29kZSA8PSA1NzsNCiAgICB9LA0KICAgIGNoZWNrTWF4OiBmdW5jdGlvbiAoKSB7DQogICAgICBsZXQgdGltZXJJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb3VudGRvd24tdGltZXItaW5wdXQnKTsNCiAgICAgIGxldCBudW0gPSBOdW1iZXIodGltZXJJbnB1dC52YWx1ZSk7DQoNCiAgICAgIGlmIChudW0gPiA3MjApIHsNCiAgICAgICAgdGltZXJJbnB1dC52YWx1ZSA9IDcyMDsNCiAgICAgIH0NCiAgICB9LA0KICAgIHN0YXJ0Q291bnREb3duVGltZXI6IGZ1bmN0aW9uICgpIHsNCiAgICAgIGxldCB0aW1lcklucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvdW50ZG93bi10aW1lci1pbnB1dCcpOw0KICAgICAgbGV0IG51bSA9IE51bWJlcih0aW1lcklucHV0LnZhbHVlKTsNCg0KICAgICAgaWYgKG51bSA9PSAwKSB7DQogICAgICAgIHRoaXMuc2hvd1RvYXN0KHsNCiAgICAgICAgICB0eXBlOiAnd2FybmluZycsDQogICAgICAgICAgdGV4dDogJ1hpbiBow6N5IG5o4bqtcCBz4buRIHBow7p0IGzhu5tuIGjGoW4gMCEnDQogICAgICAgIH0pOw0KICAgICAgICByZXR1cm47DQogICAgICB9DQoNCiAgICAgIHRoaXMuZGlhbG9nVGltZXIgPSBmYWxzZTsNCg0KICAgICAgdGhpcy5zaG93Q291bnREb3duVGltZXIoRGF0ZS5ub3coKSArIG51bSAqIDYwICogMTAwMCk7DQoNCiAgICB9LA0KICAgIHNob3dDb3VudERvd25UaW1lcjogZnVuY3Rpb24gKHRpbWUpIHsNCiAgICAgIGxldCB0aGF0ID0gdGhpczsNCg0KICAgICAgdGhhdC5zaG93VGltZXIgPSB0cnVlOw0KDQogICAgICB0aGlzLmNvdW50RG93biA9IG5ldyBDb3VudGRvd24oew0KICAgICAgICBjb250OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY291bnRkb3duLXRpbWVyLWNoYXB0ZXInKSwNCiAgICAgICAgZGF0ZTogdGltZSwNCiAgICAgICAgb3V0cHV0VHJhbnNsYXRpb246IHsNCiAgICAgICAgICBob3VyOiAnJywNCiAgICAgICAgICBtaW51dGU6ICcnLA0KICAgICAgICAgIHNlY29uZDogJycsDQogICAgICAgIH0sDQogICAgICAgIGVuZENhbGxiYWNrOiBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgdGhhdC5zaG93VGltZXIgPSBmYWxzZTsNCg0KICAgICAgICAgIHRoYXQuc3RhcnRTcGVhayhmYWxzZSk7DQoNCiAgICAgICAgICB0aGF0LnNob3dUb2FzdCh7DQogICAgICAgICAgICB0eXBlOiAnZXJyb3InLA0KICAgICAgICAgICAgdGV4dDogJ0jhur90IGdp4budIScNCiAgICAgICAgICB9KQ0KDQogICAgICAgIH0sDQogICAgICAgIG91dHB1dEZvcm1hdDogJ2hvdXJ8bWludXRlfHNlY29uZCcsDQogICAgICB9KTsNCg0KICAgICAgdGhpcy5jb3VudERvd24uc3RhcnQoKTsNCg0KICAgIH0NCiAgfSwNCiAgbW91bnRlZCgpIHsNCiAgICBjb25zb2xlLmxvZygnTW91bnRlZCcpOw0KDQogICAgdGhpcy5hdWRpbyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzcGVlY2gtYXVkaW8nKTsNCiAgICB0aGlzLmF1ZGlvQW5vdGhlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzcGVlY2gtYXVkaW8tYW5vdGhlcicpOw0KDQogICAgdGhpcy51cGRhdGVDb25maWcoKTsNCg0KICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgKCkgPT4gew0KICAgICAgdGhpcy5zY3JvbGxUb3AgPSBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCA8IHRoaXMuY3VycmVudFNjcm9sbFBvaW50Ow0KDQogICAgICB0aGlzLmN1cnJlbnRTY3JvbGxQb2ludCA9IGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wOw0KDQogICAgfSkNCg0KICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIChldmVudCkgPT4gew0KDQogICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PSAzNykgew0KICAgICAgICB0aGlzLnByZXZDaGFwdGVyKCk7DQogICAgICB9DQogICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PSAzOSkgew0KICAgICAgICB0aGlzLm5leHRDaGFwdGVyKCk7DQogICAgICB9DQoNCiAgICAgIGlmIChldmVudC5rZXlDb2RlID09IDM4KSB7DQogICAgICAgIHRoaXMuc2Nyb2xsVG8oLTI0MCk7DQogICAgICB9DQogICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PSA0MCkgew0KICAgICAgICB0aGlzLnNjcm9sbFRvKDI0MCk7DQogICAgICB9DQogICAgfSkNCiAgfSwNCiAgZGVzdHJveWVkKCkgew0KICAgIHRoaXMuYXVkaW8ucGF1c2UoKTsNCiAgICB0aGlzLmF1ZGlvLmN1cnJlbnRUaW1lID0gMDsNCg0KICAgIHRoaXMuYXVkaW9Bbm90aGVyLnBhdXNlKCk7DQogICAgdGhpcy5hdWRpb0Fub3RoZXIuY3VycmVudFRpbWUgPSAwOw0KICB9DQp9DQo="},{"version":3,"sources":["ContentChapterRsVAudio2.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0HA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"ContentChapterRsVAudio2.vue","sourceRoot":"src/views/pages","sourcesContent":["<template>\r\n<v-row>\r\n  <v-col cols=\"12\" class=\"relative\">\r\n    <loading-icon w=\"82\" margin=\"160px auto 0\" v-if=\"loading\"></loading-icon>\r\n    <loading-circular-dialog :show=\"loadingNewChapter\" />\r\n\r\n    <div class=\"d-none\">\r\n      <audio preload=\"metadata\" id=\"speech-audio\" @loadstart=\"loadstart('audio')\" @error=\"error('audio')\" @ended=\"ended('audio')\" @play=\"play('audio')\" @playing=\"playing('audio')\" />\r\n      <audio preload=\"metadata\" id=\"speech-audio-another\" @loadstart=\"loadstart('audioAnother')\" @error=\"error('audioAnother')\" @ended=\"ended('audioAnother')\" @play=\"play('audioAnother')\" @playing=\"playing('audioAnother')\" />\r\n    </div>\r\n\r\n    <div class=\"tb-dialog\" :class=\"{show: dialog}\" v-if=\"!loading\">\r\n      <div class=\"tb-dialog-overplay\" @click=\"dialog = false\" />\r\n      <v-card class=\"dialog-chapter-content\" id=\"js-dialog-chapter-content\">\r\n        <chapter :dialog=\"true\" @getChapter=\"getChapters\" :current=\"Number(chapter_id)\" :story_id=\"storyInfo.id\" :story_url=\"storyInfo.url_story\" />\r\n      </v-card>\r\n    </div>\r\n\r\n    <div class=\"tb-dialog\" :class=\"{show: dialogSetting}\" v-if=\"!loading \">\r\n      <div class=\"tb-dialog-overplay\" @click=\"dialogSetting = false\" />\r\n      <v-card class=\"dialog-setting-content \">\r\n        <v-card-title class=\"px-3 py-2 text-blur\">Cấu Hình: </v-card-title>\r\n        <user-config-dialog class=\"px-3\" />\r\n      </v-card>\r\n\r\n    </div>\r\n\r\n    <div class=\"tb-dialog\" :class=\"{show: dialogTimer}\" v-if=\"!loading \">\r\n      <div class=\"tb-dialog-overplay\" @click=\"dialogTimer = false\" />\r\n      <v-card class=\"dialog-setting-content \">\r\n        <v-card-title class=\"px-3 pt-1 py-2 text-blur\">Hẹn giờ tắt: </v-card-title>\r\n        <v-text-field class=\"px-4 mt-1\" id=\"countdown-timer-input\" type=\"number\" min=\"1\" max=\"720\" @keydown=\"checkNumber($event)\" @keyup=\"checkMax()\" @change=\"checkMax()\" @blur=\"checkMax()\" @focus=\"checkMax()\" label=\"Điền số phút...\" solo single-line outlined dense></v-text-field>\r\n        <div class=\"px-4 mb-4\">\r\n          <v-btn small color=\"#1e9022\" @click=\"startCountDownTimer()\">Bắt đầu</v-btn>\r\n        </div>\r\n      </v-card>\r\n    </div>\r\n\r\n    <div class=\"countdown-timer\" v-show=\"showTimer\" :class=\"{sticky: currentScrollPoint > 180}\">\r\n      <div class=\"countdown-timer-chapter\">\r\n\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"chapter px-0 px-md-5 px-lg-10\" v-if=\"!loading\">\r\n      <h1 class=\"mt-2 text-center\">{{storyInfo.title_story}}</h1>\r\n      <div class=\"title text-center\">{{storyInfo.chapter}}</div>\r\n      <div class=\"chapter-content mt-12 mb-12\" :style=\"{'font-size': `${config.fontSize}px`}\">\r\n        <p :class=\"{active: index == currentLine }\" @click=\"startSpeakLine(index)\" class=\"px-3\" v-for=\"(line, index) in storyInfo.content\" :key=\"`line-${index}`\" :id=\"`js-line-${index}`\" v-html=\"line\">\r\n        </p>\r\n      </div>\r\n      <div class=\"control-box d-flex justify-space-between px-6  mt-4 mb-12\">\r\n        <v-btn outlined @click=\"prevChapter()\" v-if=\"getIndex() != 0\">\r\n          <v-icon class=\"mr-1\">mdi-arrow-left</v-icon>\r\n          Previous\r\n        </v-btn>\r\n        <v-btn outlined @click=\"nextChapter()\" v-if=\"getIndex() != chapters.length - 1\">\r\n          Next\r\n          <v-icon class=\"ml-1\">mdi-arrow-right</v-icon>\r\n        </v-btn>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"button-action-group\" v-if=\"!detectMobile\">\r\n      <v-speed-dial v-model=\"fab\" top direction=\"top\" :open-on-hover=\"false\" transition=\"slide-y-reverse-transition\">\r\n        <template v-slot:activator>\r\n          <v-btn v-model=\"fab\" color=\"#1088ff\" dark fab>\r\n            <v-icon v-if=\"fab\">mdi-close</v-icon>\r\n            <v-icon v-else size=\"26\">mdi-gesture-double-tap</v-icon>\r\n          </v-btn>\r\n        </template>\r\n        <v-btn class=\"size-default \" color=\"#2740e0\" dark fab @click.stop=\"startSpeak()\">\r\n          <radio-gif width=\"32\" v-if=\"reading\" style=\"margin-right: -2px; margin-top: -2px\" />\r\n          <v-icon v-if=\"!reading\">mdi-headphones-settings</v-icon>\r\n        </v-btn>\r\n        <v-btn color=\"#FF8D00FF\" small dark fab @click.stop=\"dialog = true\">\r\n          <v-icon>mdi-format-list-bulleted</v-icon>\r\n        </v-btn>\r\n        <v-btn color=\"#ff0000\" small dark fab @click.stop=\"dialogTimer = true\">\r\n          <v-icon>mdi-timer</v-icon>\r\n        </v-btn>\r\n        <v-btn color=\"#529e33\" small dark fab @click.stop=\"dialogSetting = true\">\r\n          <v-icon class=\"ld xhalf ld-spin \">mdi-cog</v-icon>\r\n        </v-btn>\r\n        <v-btn color=\"#F44336\" small dark fab @click.stop=\"scrollToTop()\">\r\n          <v-icon class=\"ld ld-jump\" :class=\"{'mt-1': !scrollTop }\">{{scrollTop ? 'mdi-chevron-up' : 'mdi-chevron-down'}}</v-icon>\r\n        </v-btn>\r\n\r\n      </v-speed-dial>\r\n\r\n    </div>\r\n    <div class=\"mobile-action\" v-if=\"detectMobile\">\r\n      <div class=\"bottom-button-control\">\r\n        <div @click.stop=\"scrollToTop()\">\r\n          <v-icon class=\"ld ld-jump\" :class=\"{'mt-1': !scrollTop }\">{{scrollTop ? 'mdi-chevron-up' : 'mdi-chevron-down'}}</v-icon>\r\n        </div>\r\n        <div @click.stop=\"dialogSetting = true\">\r\n          <v-icon class=\"ld xhalf ld-spin \">mdi-settings</v-icon>\r\n        </div>\r\n        <div @click.stop=\"dialogTimer = true\">\r\n          <v-icon class=\"ld ld-jingle\">mdi-timer</v-icon>\r\n        </div>\r\n        <div @click.stop=\"$store.commit('app/setShowSearch', true)\">\r\n          <v-icon class=\"ld ld-tremble\">mdi-magnify</v-icon>\r\n        </div>\r\n        <div @click.stop=\"dialog = true\">\r\n          <v-icon>mdi-format-list-bulleted</v-icon>\r\n        </div>\r\n      </div>\r\n      <div class=\"button-audio-control\">\r\n        <v-btn class=\"size-default \" color=\"#2740e0\" dark fab @click.stop=\"startSpeak()\">\r\n          <radio-gif width=\"32\" v-if=\"reading\" style=\"margin-right: -2px; margin-top: -2px\" />\r\n          <v-icon v-if=\"!reading\">mdi-headphones-settings</v-icon>\r\n        </v-btn>\r\n      </div>\r\n    </div>\r\n\r\n  </v-col>\r\n</v-row>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  mapState,\r\n  mapActions,\r\n  mapMutations\r\n} from 'vuex';\r\n\r\nexport default {\r\n  components: {\r\n    Chapter: () =>\r\n      import('@/views/partials/Chapters'),\r\n\r\n    UserConfigDialog: () =>\r\n      import('@/views/partials/UserConfigDialog.vue')\r\n  },\r\n  data() {\r\n    return {\r\n      fab: true,\r\n      dialog: false,\r\n      dialogSetting: false,\r\n      dialogSearch: false,\r\n      dialogTimer: false,\r\n      showTimer: false,\r\n      countDown: null,\r\n      story_url: '',\r\n      chapter_url: '',\r\n      chapter_id: -1,\r\n      storyInfo: {},\r\n      chapters: [],\r\n      loading: false,\r\n      loadingNewChapter: false,\r\n      currentLine: 0,\r\n      pathInLine: [],\r\n      reading: false,\r\n      voice: 'Vietnamese Female',\r\n      scrollTop: false,\r\n      currentScrollPoint: 0,\r\n      audio: null,\r\n      audioCountError: 0,\r\n      audioAnother: null,\r\n      audioAnotherCountError: 0,\r\n      currentAudio: 'audio'\r\n    }\r\n  },\r\n  created() {\r\n    this.init();\r\n\r\n  },\r\n  computed: {\r\n    ...mapState('app', ['config', 'detectMobile', 'recentStories']),\r\n  },\r\n  watch: {\r\n    $route: function (val) {\r\n      this.dialog = false;\r\n\r\n      this.init();\r\n    },\r\n    config: function (val) {\r\n      console.log('Audio: ');\r\n      console.log(val);\r\n\r\n      this.updateConfig();\r\n\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapMutations('app', ['setNav', 'setTitle', 'setShowSearch', 'setTopBackground']),\r\n    ...mapActions('app', ['showToast', 'updateRecentlyStory']),\r\n    init: function () {\r\n      let {\r\n        story_url,\r\n        chapter_url,\r\n        chapter_id\r\n      } = this.$route.params;\r\n\r\n      this.story_url = story_url;\r\n      this.chapter_url = chapter_url;\r\n      this.chapter_id = chapter_id;\r\n\r\n      this.loading = true;\r\n      this.loadContent();\r\n    },\r\n    loadContent: function () {\r\n      this.$axios.get(`/story/read`, {\r\n          params: {\r\n            story_url: this.story_url,\r\n            chapter_url: this.chapter_url\r\n          }\r\n        })\r\n        .then(rs => {\r\n          let {\r\n            data\r\n          } = rs;\r\n\r\n          if (data.type == 'error' || data.data.id == null || !data.data.title_story) {\r\n            this.$router.push('/404');\r\n            return;\r\n          }\r\n\r\n          this.loading = false;\r\n          this.loadingNewChapter = false;\r\n\r\n          let contents = data.data.content.split(/\\n+/).filter(it => it && it.trim().length != '');\r\n\r\n          data.data.content = contents;\r\n\r\n          this.storyInfo = data.data;\r\n          this.currentLine = 0;\r\n\r\n          if (this.reading) {\r\n            this.currentAudio = 'audio';\r\n\r\n            this.audio.src = this.getUrl(this.currentLine);\r\n\r\n            this.speak();\r\n\r\n          }\r\n\r\n          this.setNav([{\r\n              path: '/',\r\n              text: 'Trang chủ'\r\n            },\r\n            {\r\n              path: `/story/${this.storyInfo.url_story}/${this.storyInfo.id}`,\r\n              text: this.storyInfo.title_story\r\n            },\r\n            {\r\n              path: ``,\r\n              text: this.storyInfo.chapter\r\n            },\r\n\r\n          ])\r\n\r\n          this.setTitle(`${this.storyInfo.title_story} - ${this.storyInfo.chapter}`);\r\n\r\n          window.history.replaceState({}, \"\", `/read/story/${this.story_url}/${this.chapter_url}/${this.chapter_id}`);\r\n\r\n          this.scrollToTop(true);\r\n\r\n          if (this.reading) this.speak();\r\n\r\n          this.updateRecentlyStory({\r\n            storyInfo: this.storyInfo,\r\n            chapterId: this.$route.params.chapter_id,\r\n            chapterHref: this.$route.params.chapter_url\r\n          });\r\n\r\n          let index = this.recentStories.findIndex(it => it.id == this.storyInfo.id);\r\n\r\n          if (index >= 0) {\r\n            this.setTopBackground(imageUrl(this.recentStories[index].image));\r\n          }\r\n\r\n        })\r\n    },\r\n    updateConfig: function () {\r\n      if (this.audio) {\r\n        this.audio.volume = this.config.volume;\r\n        this.audio.playbackRate = this.config.speed;\r\n      }\r\n\r\n      if (this.audioAnother) {\r\n        this.audioAnother.volume = this.config.volume;\r\n        this.audioAnother.playbackRate = this.config.speed;\r\n      }\r\n\r\n    },\r\n    select: function () {\r\n      let selectText = '';\r\n\r\n      if (window.getSelection) {\r\n        console.log(window.getSelection);\r\n        selectText = window.getSelection().toString();\r\n      } else if (document.selection) {\r\n        console.log(document.selection);\r\n        selectText = document.selection.createRange().text;\r\n      }\r\n\r\n      if (selectText.length != 0) {\r\n        this.speak(selectText, false);\r\n      }\r\n\r\n    },\r\n    startSpeak: function (speak = true) {\r\n\r\n      this.reading = !this.reading;\r\n      if (!speak) this.reading = false;\r\n\r\n      if (this.reading) {\r\n        if (this.currentLine == 0) {\r\n          this.audio.src = this.getUrl(this.currentLine);\r\n\r\n          this.speak();\r\n\r\n        } else {\r\n          this[this.currentAudio].play();\r\n\r\n        }\r\n\r\n      } else {\r\n        this.audio.pause();\r\n        this.audioAnother.pause();\r\n\r\n      }\r\n    },\r\n    loadstart: function (ref) {\r\n      console.log(ref);\r\n\r\n    },\r\n    play: function (ref) {\r\n      this.updateConfig();\r\n\r\n    },\r\n    playing: function (ref) {\r\n      if (ref == 'audio') {\r\n        this.audioCountError = 0;\r\n      } else {\r\n        this.audioAnotherCountError = 0;\r\n\r\n      }\r\n\r\n      if (this.currentAudio != ref) {\r\n\r\n        this[ref].pause();\r\n        this[ref].currentTime = 0;\r\n\r\n      }\r\n\r\n    },\r\n    ended: function () {\r\n      if (this.currentLine == this.storyInfo.content.length - 1 && this.getIndex() != this.chapters.length - 1) {\r\n        responsiveVoice.speak(`Chương tiếp! ${this.chapters[this.getIndex() + 1].title}}`, this.voice, {\r\n          rate: 1.3\r\n        });\r\n\r\n        setTimeout(() => {\r\n          this.next();\r\n\r\n        }, 2500);\r\n\r\n      } else {\r\n        this.next();\r\n      }\r\n\r\n    },\r\n    error: function (ref) {\r\n      console.log(\"error: \" + ref);\r\n\r\n      setTimeout(() => {\r\n\r\n        let text = this[ref].src.match(/\\?text=(?<text>.*?)&/)[1];\r\n\r\n        if (text[text.length - 1] == '.') {\r\n          text = text.substring(0, text.length - 1)\r\n        } else {\r\n          text = `${text}.`\r\n        }\r\n\r\n        let check = false;\r\n\r\n        if (ref == 'audio') {\r\n          this.audioCountError++;\r\n          if (this.audioCountError >= 2) {\r\n            check = true;\r\n\r\n          }\r\n        } else {\r\n          this.audioAnotherCountError++;\r\n\r\n          if (this.audioAnotherCountError >= 2) {\r\n            check = true;\r\n\r\n          }\r\n        }\r\n\r\n        if (this.currentAudio == ref && check) {\r\n\r\n          console.log(this.currentLine);\r\n          this.audioAnotherCountError = 0;\r\n          this.audioCountError = 0;\r\n          this.next();\r\n\r\n        } else {\r\n          this[ref].src = this.getUrlWithText(text);\r\n\r\n          if (this.currentAudio == ref) {\r\n            this[ref].load();\r\n            this[ref].play();\r\n          }\r\n        }\r\n\r\n      }, 1500)\r\n    },\r\n    getUrl: function (index) {\r\n      let text = encodeURI(this.storyInfo.content[index]);\r\n      //let text = this.storyInfo.content[index];\r\n\r\n      console.log(this.storyInfo.content[index]);\r\n\r\n      // if (text[text.length - 1] == '.') {\r\n      //     text = text.substring(0, text.length - 1)\r\n      // }\r\n\r\n      return `https://code.responsivevoice.org/getvoice.php?text=${text}&lang=vi&engie=g1&rate=0.53&volume=1&key=uu8DEkxz&gender=female`\r\n      //return `https://texttospeech.responsivevoice.org/v1/text:synthesize?text=${text}&lang=vi&engine=g1&rate=0.53&volume=1&key=32hDX4HJ&gender=female`\r\n    },\r\n    getUrlWithText: function (text) {\r\n      return `https://code.responsivevoice.org/getvoice.php?text=${text}&lang=vi&engie=g1&rate=0.53&volume=1&key=uu8DEkxz&gender=female`\r\n      //return `https://texttospeech.responsivevoice.org/v1/text:synthesize?text=${text}&lang=vi&engine=g1&rate: 0.53&volume=1&key=32hDX4HJ&gender=female`\r\n    },\r\n    speak: function () {\r\n\r\n      let a = this.currentAudio == 'audio' ? 'audioAnother' : 'audio';\r\n\r\n      this[a].src = this.currentLine == this.storyInfo.content.length - 1 ? '/audio/temp-audio.mp3' : this.getUrl(this.currentLine + 1);\r\n\r\n      this[a].load();\r\n\r\n      //console.log(this[a]);\r\n\r\n      this[this.currentAudio].play();\r\n\r\n      this.scrollText();\r\n    },\r\n    startSpeakLine: function (index) {\r\n      if (this.currentLine == index) {\r\n        this.startSpeak();\r\n\r\n        return;\r\n      }\r\n\r\n      if (!this.reading) {\r\n        this.reading = true;\r\n      }\r\n      this.currentLine = index;\r\n      this.currentAudio = 'audio';\r\n\r\n      this.audio.src = this.getUrl(this.currentLine);\r\n\r\n      this.speak();\r\n    },\r\n    next: function () {\r\n      this.currentLine++;\r\n      console.log('Next: ' + this.currentLine);\r\n\r\n      this.currentAudio = this.currentAudio == 'audio' ? 'audioAnother' : 'audio';\r\n\r\n      if (this.currentLine == this.storyInfo.content.length) {\r\n        console.log('End chapter');\r\n\r\n        this.nextChapter();\r\n\r\n        return;\r\n      }\r\n\r\n      this.speak();\r\n    },\r\n\r\n    nextChapter: function () {\r\n\r\n      if (this.chapters.length == 0) {\r\n        this.showToast({\r\n          type: 'info',\r\n          text: 'Chương cuối!'\r\n        });\r\n\r\n        this.loadingNewChapter = false;\r\n        return;\r\n      }\r\n      let index = this.getIndex();\r\n\r\n      if (index != this.chapters.length - 1) {\r\n        this.chapter_id = this.chapters[index + 1].chapterId;\r\n        this.chapter_url = this.chapters[index + 1].href;\r\n\r\n        if (this.loadingNewChapter) return;\r\n\r\n        this.loadingNewChapter = true;\r\n\r\n        this.loadContent();\r\n      } else {\r\n        this.showToast({\r\n          type: 'info',\r\n          text: 'Chương cuối!'\r\n        })\r\n      }\r\n      console.log(this.chapter_id, index);\r\n\r\n    },\r\n    prevChapter: function () {\r\n      this.loadingNewChapter = true;\r\n\r\n      if (this.chapters.length == 0) {\r\n        this.showToast({\r\n          type: 'info',\r\n          text: 'Chương cuối!'\r\n        });\r\n\r\n        this.loadingNewChapter = false;\r\n        return;\r\n      }\r\n      let index = this.getIndex();\r\n\r\n      if (index != 0) {\r\n        this.chapter_id = this.chapters[index - 1].chapterId;\r\n        this.chapter_url = this.chapters[index - 1].href;\r\n\r\n        this.loadContent();\r\n      } else {\r\n        this.showToast({\r\n          type: 'info',\r\n          text: 'Chương đầu tiên. Không thể trở về!'\r\n        })\r\n      }\r\n      console.log(this.chapter_id, index);\r\n\r\n    },\r\n    scrollText: function () {\r\n      let objDiv = document.getElementById(`js-line-${this.currentLine}`);\r\n      if (!objDiv) return;\r\n\r\n      $(document.body).animate({\r\n        scrollTop: objDiv.offsetTop\r\n      }, 100)\r\n\r\n    },\r\n    scrollToTop: function (onlyTop) {\r\n\r\n      let height = document.getElementById(`main-content`).offsetHeight;\r\n\r\n      let div = document.body;\r\n\r\n      if (onlyTop) {\r\n        $(div).animate({\r\n          scrollTop: -height\r\n        }, 300)\r\n\r\n        return;\r\n      }\r\n\r\n      $(div).animate({\r\n        scrollTop: this.scrollTop ? -height : height,\r\n      }, 300)\r\n\r\n    },\r\n    scrollTo: function (num) {\r\n      let offset = document.body.scrollTop + num;\r\n\r\n      $(document.body).animate({\r\n        scrollTop: offset\r\n      }, 100)\r\n    },\r\n    getChapters: function (chaps) {\r\n      this.chapters = chaps;\r\n    },\r\n    getIndex: function () {\r\n      return this.chapters.findIndex(it => it.chapterId == this.chapter_id);\r\n    },\r\n    checkNumber: function ($event) {\r\n      return $event.keyCode >= 48 && $event.keyCode <= 57;\r\n    },\r\n    checkMax: function () {\r\n      let timerInput = document.getElementById('countdown-timer-input');\r\n      let num = Number(timerInput.value);\r\n\r\n      if (num > 720) {\r\n        timerInput.value = 720;\r\n      }\r\n    },\r\n    startCountDownTimer: function () {\r\n      let timerInput = document.getElementById('countdown-timer-input');\r\n      let num = Number(timerInput.value);\r\n\r\n      if (num == 0) {\r\n        this.showToast({\r\n          type: 'warning',\r\n          text: 'Xin hãy nhập số phút lớn hơn 0!'\r\n        });\r\n        return;\r\n      }\r\n\r\n      this.dialogTimer = false;\r\n\r\n      this.showCountDownTimer(Date.now() + num * 60 * 1000);\r\n\r\n    },\r\n    showCountDownTimer: function (time) {\r\n      let that = this;\r\n\r\n      that.showTimer = true;\r\n\r\n      this.countDown = new Countdown({\r\n        cont: document.querySelector('.countdown-timer-chapter'),\r\n        date: time,\r\n        outputTranslation: {\r\n          hour: '',\r\n          minute: '',\r\n          second: '',\r\n        },\r\n        endCallback: function () {\r\n          that.showTimer = false;\r\n\r\n          that.startSpeak(false);\r\n\r\n          that.showToast({\r\n            type: 'error',\r\n            text: 'Hết giờ!'\r\n          })\r\n\r\n        },\r\n        outputFormat: 'hour|minute|second',\r\n      });\r\n\r\n      this.countDown.start();\r\n\r\n    }\r\n  },\r\n  mounted() {\r\n    console.log('Mounted');\r\n\r\n    this.audio = document.getElementById('speech-audio');\r\n    this.audioAnother = document.getElementById('speech-audio-another');\r\n\r\n    this.updateConfig();\r\n\r\n    document.body.addEventListener('scroll', () => {\r\n      this.scrollTop = document.body.scrollTop < this.currentScrollPoint;\r\n\r\n      this.currentScrollPoint = document.body.scrollTop;\r\n\r\n    })\r\n\r\n    window.addEventListener('keyup', (event) => {\r\n\r\n      if (event.keyCode == 37) {\r\n        this.prevChapter();\r\n      }\r\n      if (event.keyCode == 39) {\r\n        this.nextChapter();\r\n      }\r\n\r\n      if (event.keyCode == 38) {\r\n        this.scrollTo(-240);\r\n      }\r\n      if (event.keyCode == 40) {\r\n        this.scrollTo(240);\r\n      }\r\n    })\r\n  },\r\n  destroyed() {\r\n    this.audio.pause();\r\n    this.audio.currentTime = 0;\r\n\r\n    this.audioAnother.pause();\r\n    this.audioAnother.currentTime = 0;\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.title {\r\n  color: #4f9bd2;\r\n}\r\n\r\n.chapter .chapter-content p {\r\n  font-size: inherit;\r\n  color: #dfdfdf;\r\n  cursor: pointer;\r\n}\r\n\r\n.chapter .chapter-content p.active {\r\n  background: #2e638a;\r\n  color: #fff;\r\n  user-select: none;\r\n}\r\n</style>\r\n"]}]}