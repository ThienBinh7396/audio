{"remainingRequest":"/home/thien/Documents/Tutorials/NodeJs/audio/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/thien/Documents/Tutorials/NodeJs/audio/src/views/pages/ContentChapterRsV.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/thien/Documents/Tutorials/NodeJs/audio/src/views/pages/ContentChapterRsV.vue","mtime":1604377237427},{"path":"/home/thien/Documents/Tutorials/NodeJs/audio/node_modules/cache-loader/dist/cjs.js","mtime":1601544776771},{"path":"/home/thien/Documents/Tutorials/NodeJs/audio/node_modules/babel-loader/lib/index.js","mtime":1596448970406},{"path":"/home/thien/Documents/Tutorials/NodeJs/audio/node_modules/cache-loader/dist/cjs.js","mtime":1601544776771},{"path":"/home/thien/Documents/Tutorials/NodeJs/audio/node_modules/vue-loader/lib/index.js","mtime":1604375615900}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgew0KICAgIG1hcEFjdGlvbnMsDQogICAgbWFwTXV0YXRpb25zDQp9IGZyb20gJ3Z1ZXgnOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogICAgY29tcG9uZW50czogew0KICAgICAgICBDaGFwdGVyOiAoKSA9Pg0KICAgICAgICAgICAgaW1wb3J0KCdAL3ZpZXdzL3BhcnRpYWxzL0NoYXB0ZXJzJyksDQogICAgfSwNCiAgICBkYXRhKCkgew0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgZGlhbG9nOiBmYWxzZSwNCiAgICAgICAgICAgIHN0b3J5X3VybDogJycsDQogICAgICAgICAgICBjaGFwdGVyX3VybDogJycsDQogICAgICAgICAgICBjaGFwdGVyX2lkOiAtMSwNCiAgICAgICAgICAgIHN0b3J5SW5mbzoge30sDQogICAgICAgICAgICBjaGFwdGVyczogW10sDQogICAgICAgICAgICBsb2FkaW5nOiBmYWxzZSwNCiAgICAgICAgICAgIGxvYWRpbmdOZXdDaGFwdGVyOiBmYWxzZSwNCiAgICAgICAgICAgIGN1cnJlbnRMaW5lOiAwLA0KICAgICAgICAgICAgcmVhZGluZzogZmFsc2UsDQogICAgICAgICAgICB2b2ljZTogJ1ZpZXRuYW1lc2UgRmVtYWxlJywNCiAgICAgICAgICAgIHNjcm9sbFRvcDogMCwNCiAgICAgICAgICAgIGZpcnN0OiB0cnVlLA0KICAgICAgICAgICAgcGFnZVZpc2liaWxpdHk6IHRydWUsDQogICAgICAgICAgICBwYWdlVmlzaWJpbGl0eXM6IFtdDQogICAgICAgIH0NCiAgICB9LA0KICAgIGNyZWF0ZWQoKSB7DQogICAgICAgIHRoaXMuaW5pdCgpOw0KDQogICAgfSwNCiAgICB3YXRjaDogew0KICAgICAgICAkcm91dGU6IGZ1bmN0aW9uICh2YWwpIHsNCiAgICAgICAgICAgIHRoaXMuZGlhbG9nID0gZmFsc2U7DQoNCiAgICAgICAgICAgIHRoaXMuaW5pdCgpOw0KICAgICAgICB9DQogICAgfSwNCiAgICBtZXRob2RzOiB7DQogICAgICAgIC4uLm1hcE11dGF0aW9ucygnYXBwJywgWydzZXROYXYnXSksDQogICAgICAgIC4uLm1hcEFjdGlvbnMoJ2FwcCcsIFsnc2hvd1RvYXN0J10pLA0KICAgICAgICBpbml0OiBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICBsZXQgew0KICAgICAgICAgICAgICAgIHN0b3J5X3VybCwNCiAgICAgICAgICAgICAgICBjaGFwdGVyX3VybCwNCiAgICAgICAgICAgICAgICBjaGFwdGVyX2lkDQogICAgICAgICAgICB9ID0gdGhpcy4kcm91dGUucGFyYW1zOw0KDQogICAgICAgICAgICB0aGlzLnN0b3J5X3VybCA9IHN0b3J5X3VybDsNCiAgICAgICAgICAgIHRoaXMuY2hhcHRlcl91cmwgPSBjaGFwdGVyX3VybDsNCiAgICAgICAgICAgIHRoaXMuY2hhcHRlcl9pZCA9IGNoYXB0ZXJfaWQ7DQoNCiAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7DQogICAgICAgICAgICB0aGlzLmxvYWRDb250ZW50KCk7DQogICAgICAgIH0sDQogICAgICAgIGxvYWRDb250ZW50OiBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICB0aGlzLiRheGlvcy5nZXQoYC9zdG9yeS9yZWFkYCwgew0KICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHN0b3J5X3VybDogdGhpcy5zdG9yeV91cmwsDQogICAgICAgICAgICAgICAgICAgICAgICBjaGFwdGVyX3VybDogdGhpcy5jaGFwdGVyX3VybA0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICAudGhlbihycyA9PiB7DQogICAgICAgICAgICAgICAgICAgIGxldCB7DQogICAgICAgICAgICAgICAgICAgICAgICBkYXRhDQogICAgICAgICAgICAgICAgICAgIH0gPSByczsNCg0KICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkaW5nTmV3Q2hhcHRlciA9IGZhbHNlOw0KDQogICAgICAgICAgICAgICAgICAgIGxldCBjb250ZW50cyA9IGRhdGEuZGF0YS5jb250ZW50LnNwbGl0KC9cbisvKTsNCg0KICAgICAgICAgICAgICAgICAgICBkYXRhLmRhdGEuY29udGVudCA9IGNvbnRlbnRzOw0KDQogICAgICAgICAgICAgICAgICAgIHRoaXMuc3RvcnlJbmZvID0gZGF0YS5kYXRhOw0KICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRMaW5lID0gMDsNCg0KICAgICAgICAgICAgICAgICAgICB0aGlzLnNldE5hdihbew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6ICcvJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAnVHJhbmcgY2jhu6cnDQogICAgICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6IGAvc3RvcnkvJHt0aGlzLnN0b3J5SW5mby51cmxfc3Rvcnl9LyR7dGhpcy5zdG9yeUluZm8uaWR9YCwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiB0aGlzLnN0b3J5SW5mby50aXRsZV9zdG9yeQ0KICAgICAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRoOiBgYCwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiB0aGlzLnN0b3J5SW5mby5jaGFwdGVyDQogICAgICAgICAgICAgICAgICAgICAgICB9LA0KDQogICAgICAgICAgICAgICAgICAgIF0pDQoNCiAgICAgICAgICAgICAgICAgICAgd2luZG93Lmhpc3RvcnkucmVwbGFjZVN0YXRlKHt9LCAiIiwgYC9yZWFkL3N0b3J5LyR7dGhpcy5zdG9yeV91cmx9LyR7dGhpcy5jaGFwdGVyX3VybH0vJHt0aGlzLmNoYXB0ZXJfaWR9YCk7DQoNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5zY3JvbGxUb1RvcCh0cnVlKTsNCg0KICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5yZWFkaW5nKSB0aGlzLnNwZWFrKCk7DQogICAgICAgICAgICAgICAgfSkNCiAgICAgICAgfSwNCiAgICAgICAgc2VsZWN0OiBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICBsZXQgc2VsZWN0VGV4dCA9ICcnOw0KDQogICAgICAgICAgICBpZiAod2luZG93LmdldFNlbGVjdGlvbikgew0KICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHdpbmRvdy5nZXRTZWxlY3Rpb24pOw0KICAgICAgICAgICAgICAgIHNlbGVjdFRleHQgPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCkudG9TdHJpbmcoKTsNCiAgICAgICAgICAgIH0gZWxzZSBpZiAoZG9jdW1lbnQuc2VsZWN0aW9uKSB7DQogICAgICAgICAgICAgICAgY29uc29sZS5sb2coZG9jdW1lbnQuc2VsZWN0aW9uKTsNCiAgICAgICAgICAgICAgICBzZWxlY3RUZXh0ID0gZG9jdW1lbnQuc2VsZWN0aW9uLmNyZWF0ZVJhbmdlKCkudGV4dDsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgaWYgKHNlbGVjdFRleHQubGVuZ3RoICE9IDApIHsNCiAgICAgICAgICAgICAgICB0aGlzLnNwZWFrKHNlbGVjdFRleHQsIGZhbHNlKTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICB9LA0KICAgICAgICBzdGFydFNwZWFrOiBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICB0aGlzLnJlYWRpbmcgPSAhdGhpcy5yZWFkaW5nOw0KDQogICAgICAgICAgICBpZiAodGhpcy5yZWFkaW5nKSB7DQogICAgICAgICAgICAgICAgaWYgKHRoaXMuZmlyc3QpIHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5maXJzdCA9IGZhbHNlOw0KDQogICAgICAgICAgICAgICAgICAgIHRoaXMuc3BlYWsoKTsNCg0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQoNCiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2l2ZVZvaWNlLnJlc3VtZSgpOw0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICByZXNwb25zaXZlVm9pY2UucGF1c2UoKTsNCg0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KDQogICAgICAgIHNwZWFrOiBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICByZXNwb25zaXZlVm9pY2UuY2FuY2VsKCk7DQoNCiAgICAgICAgICAgIGlmICh0aGlzLnN0b3J5SW5mby5jb250ZW50W3RoaXMuY3VycmVudExpbmVdLnRyaW0oKSA9PSAiIikgew0KICAgICAgICAgICAgICAgIHRoaXMubmV4dCgpOw0KICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgaWYgKCF0aGlzLnBhZ2VWaXNpYmlsaXR5KSB7DQogICAgICAgICAgICAgICAgcmVzcG9uc2l2ZVZvaWNlLnNwZWFrKCdIZWxsbyEnLCB0aGlzLnZvaWNlLCB7DQogICAgICAgICAgICAgICAgICAgIHZvbHVtZTogMA0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIHJlc3BvbnNpdmVWb2ljZS5yZXN1bWUoKTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgcmVzcG9uc2l2ZVZvaWNlLnNwZWFrKHRoaXMuc3RvcnlJbmZvLmNvbnRlbnRbdGhpcy5jdXJyZW50TGluZV0sIHRoaXMudm9pY2UsIHsNCiAgICAgICAgICAgICAgICByYXRlOiAxLjMsDQogICAgICAgICAgICAgICAgb25zdGFydDogKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICB0aGlzLnNjcm9sbFRleHQoKTsNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIG9uZXJyb3I6IChlcnIpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2l2ZVZvaWNlLmNhbmNlbCgpOw0KICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpOw0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgb25lbmQ6ICgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXh0KCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSk7DQogICAgICAgIH0sDQogICAgICAgIHN0YXJ0U3BlYWtMaW5lOiBmdW5jdGlvbiAoaW5kZXgpIHsNCiAgICAgICAgICAgIGlmICh0aGlzLnJlYWRpbmcpIHsNCiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRMaW5lID0gaW5kZXg7DQogICAgICAgICAgICAgICAgdGhpcy5zcGVhaygpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICB0aGlzLmN1cnJlbnRMaW5lKys7DQoNCiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRMaW5lID09IHRoaXMuc3RvcnlJbmZvLmNvbnRlbnQubGVuZ3RoKSB7DQogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0VuZCBjaGFwdGVyJyk7DQoNCiAgICAgICAgICAgICAgICB0aGlzLm5leHRDaGFwdGVyKCk7DQoNCiAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIHRoaXMuc3BlYWsoKTsNCiAgICAgICAgfSwNCg0KICAgICAgICBuZXh0Q2hhcHRlcjogZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgdGhpcy5sb2FkaW5nTmV3Q2hhcHRlciA9IHRydWU7DQoNCiAgICAgICAgICAgIGlmICh0aGlzLmNoYXB0ZXJzLmxlbmd0aCA9PSAwKSB7DQogICAgICAgICAgICAgICAgdGhpcy5zaG93VG9hc3Qoew0KICAgICAgICAgICAgICAgICAgICB0eXBlOiAnaW5mbycsDQogICAgICAgICAgICAgICAgICAgIHRleHQ6ICdDaMawxqFuZyBjdeG7kWkhJw0KICAgICAgICAgICAgICAgIH0pOw0KDQogICAgICAgICAgICAgICAgdGhpcy5sb2FkaW5nTmV3Q2hhcHRlciA9IGZhbHNlOw0KICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGxldCBpbmRleCA9IHRoaXMuZ2V0SW5kZXgoKTsNCg0KICAgICAgICAgICAgaWYgKGluZGV4ICE9IHRoaXMuY2hhcHRlcnMubGVuZ3RoIC0gMSkgew0KICAgICAgICAgICAgICAgIHRoaXMuY2hhcHRlcl9pZCA9IHRoaXMuY2hhcHRlcnNbaW5kZXggKyAxXS5jaGFwdGVySWQ7DQogICAgICAgICAgICAgICAgdGhpcy5jaGFwdGVyX3VybCA9IHRoaXMuY2hhcHRlcnNbaW5kZXggKyAxXS5ocmVmOw0KDQogICAgICAgICAgICAgICAgdGhpcy5sb2FkQ29udGVudCgpOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICB0aGlzLnNob3dUb2FzdCh7DQogICAgICAgICAgICAgICAgICAgIHR5cGU6ICdpbmZvJywNCiAgICAgICAgICAgICAgICAgICAgdGV4dDogJ0NoxrDGoW5nIGN14buRaSEnDQogICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuY2hhcHRlcl9pZCwgaW5kZXgpOw0KDQogICAgICAgIH0sDQogICAgICAgIHByZXZDaGFwdGVyOiBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICB0aGlzLmxvYWRpbmdOZXdDaGFwdGVyID0gdHJ1ZTsNCg0KICAgICAgICAgICAgaWYgKHRoaXMuY2hhcHRlcnMubGVuZ3RoID09IDApIHsNCiAgICAgICAgICAgICAgICB0aGlzLnNob3dUb2FzdCh7DQogICAgICAgICAgICAgICAgICAgIHR5cGU6ICdpbmZvJywNCiAgICAgICAgICAgICAgICAgICAgdGV4dDogJ0NoxrDGoW5nIGN14buRaSEnDQogICAgICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgICAgICAgICB0aGlzLmxvYWRpbmdOZXdDaGFwdGVyID0gZmFsc2U7DQogICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgbGV0IGluZGV4ID0gdGhpcy5nZXRJbmRleCgpOw0KDQogICAgICAgICAgICBpZiAoaW5kZXggIT0gMCkgew0KICAgICAgICAgICAgICAgIHRoaXMuY2hhcHRlcl9pZCA9IHRoaXMuY2hhcHRlcnNbaW5kZXggLSAxXS5jaGFwdGVySWQ7DQogICAgICAgICAgICAgICAgdGhpcy5jaGFwdGVyX3VybCA9IHRoaXMuY2hhcHRlcnNbaW5kZXggLSAxXS5ocmVmOw0KDQogICAgICAgICAgICAgICAgdGhpcy5sb2FkQ29udGVudCgpOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICB0aGlzLnNob3dUb2FzdCh7DQogICAgICAgICAgICAgICAgICAgIHR5cGU6ICdpbmZvJywNCiAgICAgICAgICAgICAgICAgICAgdGV4dDogJ0NoxrDGoW5nIMSR4bqndSB0acOqbi4gS2jDtG5nIHRo4buDIHRy4bufIHbhu4EhJw0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICB9DQogICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmNoYXB0ZXJfaWQsIGluZGV4KTsNCg0KICAgICAgICB9LA0KICAgICAgICBzY3JvbGxUZXh0OiBmdW5jdGlvbiAoKSB7DQoNCiAgICAgICAgICAgIGxldCBvYmpEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChganMtbGluZS0ke3RoaXMuY3VycmVudExpbmV9YCk7DQogICAgICAgICAgICBpZiAoIW9iakRpdikgcmV0dXJuOw0KDQogICAgICAgICAgICBhcHAuc2Nyb2xsVG9wID0gb2JqRGl2Lm9mZnNldFRvcCAtIDIwMDsNCiAgICAgICAgfSwNCiAgICAgICAgc2Nyb2xsVG9Ub3A6IGZ1bmN0aW9uIChvbmx5VG9wKSB7DQogICAgICAgICAgICBsZXQgYXBwID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYGFwcGApOw0KICAgICAgICAgICAgaWYgKG9ubHlUb3ApIHsNCiAgICAgICAgICAgICAgICBhcHAuc2Nyb2xsVG9wID0gMDsNCiAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIGxldCBoZWlnaHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgbWFpbi1jb250ZW50YCkub2Zmc2V0SGVpZ2h0Ow0KICAgICAgICAgICAgYXBwLnNjcm9sbFRvcCA9IHRoaXMuc2Nyb2xsVG9wID4gMTgwID8gMCA6IGhlaWdodDsNCg0KICAgICAgICB9LA0KICAgICAgICBnZXRDaGFwdGVyczogZnVuY3Rpb24gKGNoYXBzKSB7DQogICAgICAgICAgICB0aGlzLmNoYXB0ZXJzID0gY2hhcHM7DQogICAgICAgIH0sDQogICAgICAgIGdldEluZGV4OiBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICByZXR1cm4gdGhpcy5jaGFwdGVycy5maW5kSW5kZXgoaXQgPT4gaXQuY2hhcHRlcklkID09IHRoaXMuY2hhcHRlcl9pZCk7DQogICAgICAgIH0NCiAgICB9LA0KICAgIG1vdW50ZWQoKSB7DQogICAgICAgIHJlc3BvbnNpdmVWb2ljZS5zcGVhaygnSGVsbG8hJywgdGhpcy52b2ljZSwgew0KICAgICAgICAgICAgdm9sdW1lOiAwDQogICAgICAgIH0pOw0KDQogICAgICAgIGxldCBhcHAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXBwJyk7DQoNCiAgICAgICAgYXBwLmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsICgpID0+IHsNCiAgICAgICAgICAgIHRoaXMuc2Nyb2xsVG9wID0gYXBwLnNjcm9sbFRvcDsNCiAgICAgICAgfSkNCg0KICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCAoZXZlbnQpID0+IHsNCiAgICAgICAgICAgIGlmIChldmVudC5rZXlDb2RlID09IDM3KSB7DQogICAgICAgICAgICAgICAgdGhpcy5wcmV2Q2hhcHRlcigpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT0gMzkpIHsNCiAgICAgICAgICAgICAgICB0aGlzLm5leHRDaGFwdGVyKCk7DQogICAgICAgICAgICB9DQogICAgICAgIH0pDQoNCiAgICB9LA0KICAgIGRlc3Ryb3llZCgpIHsNCiAgICAgICAgcmVzcG9uc2l2ZVZvaWNlLmNhbmNlbCgpOw0KICAgIH0NCn0NCg=="},{"version":3,"sources":["ContentChapterRsV.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+EA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"ContentChapterRsV.vue","sourceRoot":"src/views/pages","sourcesContent":["<template>\r\n<v-row>\r\n    <v-col cols=\"12\">\r\n        <loading-icon w=\"82\" margin=\"160px auto 0\" v-if=\"loading\"></loading-icon>\r\n        <loading-circular-dialog :show=\"loadingNewChapter\" />\r\n\r\n        <div class=\"dialog-chapter\" :class=\"{show: dialog}\" v-if=\"!loading\">\r\n            <div class=\"dialog-chapter-overplay\" @click=\"dialog = false\" />\r\n            <v-card class=\"dialog-chapter-content\">\r\n                <chapter :dialog=\"true\" @getChapter=\"getChapters\" :current=\"Number(chapter_id)\" :story_id=\"storyInfo.id\" :story_url=\"storyInfo.url_story\" />\r\n            </v-card>\r\n        </div>\r\n\r\n        <div class=\"chapter px-0 px-md-5 px-lg-10\" v-if=\"!loading\">\r\n            <h1 class=\"mt-2 text-center\">{{storyInfo.title_story}}</h1>\r\n            <div class=\"title text-center\">{{storyInfo.chapter}}</div>\r\n            <div>{{pageVisibilitys}}</div>\r\n\r\n            <div class=\"chapter-content mt-12 mb-12\">\r\n                <p :class=\"{active: reading && index == currentLine }\" @click=\"startSpeakLine(index)\" class=\"px-3\" v-for=\"(line, index) in storyInfo.content\" :key=\"`line-${index}`\" :id=\"`js-line-${index}`\" v-html=\"line\">\r\n                </p>\r\n            </div>\r\n            <div class=\"control-box d-flex justify-space-between px-6  mt-4 mb-12\">\r\n                <v-btn outlined @click=\"prevChapter()\" v-if=\"getIndex() != 0\">\r\n                    <v-icon class=\"mr-1\">mdi-arrow-left</v-icon>\r\n                    Previous\r\n                </v-btn>\r\n                <v-btn outlined @click=\"nextChapter()\" v-if=\"getIndex() != chapters.length - 1\">\r\n                    Next\r\n                    <v-icon class=\"ml-1\">mdi-arrow-right</v-icon>\r\n                </v-btn>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"button-action-group\">\r\n            <div class=\"button-action-scroll mb-3\">\r\n                <v-tooltip left>\r\n                    <template v-slot:activator=\"{ on }\">\r\n                        <transition name=\"slide\" mode=\"out-in\">\r\n                            <v-btn color=\"#F44336\" small dark fab v-on=\"on\" @click=\"scrollToTop()\">\r\n                                <v-icon class=\"ld ld-jump\" :class=\"{'mt-1': scrollTop <= 180 }\">{{scrollTop > 180 ? 'mdi-chevron-up' : 'mdi-chevron-down'}}</v-icon>\r\n                            </v-btn>\r\n                        </transition>\r\n                    </template>\r\n                    <span>Về đầu trang</span>\r\n                </v-tooltip>\r\n            </div>\r\n            <div class=\"button-action-dialog mb-6\">\r\n                <v-tooltip left>\r\n                    <template v-slot:activator=\"{ on }\">\r\n                        <transition name=\"slide\" mode=\"out-in\">\r\n                            <v-btn color=\"orange\" small dark fab v-on=\"on\" @click=\"dialog = true\">\r\n                                <v-icon>mdi-format-list-bulleted</v-icon>\r\n                            </v-btn>\r\n                        </transition>\r\n                    </template>\r\n                    <span>Danh sách chương</span>\r\n                </v-tooltip>\r\n            </div>\r\n            <div class=\"button-action-read\">\r\n                <v-tooltip left>\r\n                    <template v-slot:activator=\"{ on }\">\r\n                        <transition name=\"slide\" mode=\"out-in\">\r\n                            <v-btn class=\"size-default \" :color=\"reading ? 'black': 'blue darken-2'\" dark fab v-on=\"on\" @click=\"startSpeak()\">\r\n                                <radio-gif width=\"32\" v-if=\"reading\" style=\"margin-right: -2px; margin-top: -2px\" />\r\n                                <v-icon v-if=\"!reading\">mdi-headphones-settings</v-icon>\r\n                            </v-btn>\r\n                        </transition>\r\n                    </template>\r\n                    <span>{{ reading ? 'Pause' : 'Listen'}}</span>\r\n                </v-tooltip>\r\n            </div>\r\n        </div>\r\n\r\n    </v-col>\r\n</v-row>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n    mapActions,\r\n    mapMutations\r\n} from 'vuex';\r\n\r\nexport default {\r\n    components: {\r\n        Chapter: () =>\r\n            import('@/views/partials/Chapters'),\r\n    },\r\n    data() {\r\n        return {\r\n            dialog: false,\r\n            story_url: '',\r\n            chapter_url: '',\r\n            chapter_id: -1,\r\n            storyInfo: {},\r\n            chapters: [],\r\n            loading: false,\r\n            loadingNewChapter: false,\r\n            currentLine: 0,\r\n            reading: false,\r\n            voice: 'Vietnamese Female',\r\n            scrollTop: 0,\r\n            first: true,\r\n            pageVisibility: true,\r\n            pageVisibilitys: []\r\n        }\r\n    },\r\n    created() {\r\n        this.init();\r\n\r\n    },\r\n    watch: {\r\n        $route: function (val) {\r\n            this.dialog = false;\r\n\r\n            this.init();\r\n        }\r\n    },\r\n    methods: {\r\n        ...mapMutations('app', ['setNav']),\r\n        ...mapActions('app', ['showToast']),\r\n        init: function () {\r\n            let {\r\n                story_url,\r\n                chapter_url,\r\n                chapter_id\r\n            } = this.$route.params;\r\n\r\n            this.story_url = story_url;\r\n            this.chapter_url = chapter_url;\r\n            this.chapter_id = chapter_id;\r\n\r\n            this.loading = true;\r\n            this.loadContent();\r\n        },\r\n        loadContent: function () {\r\n            this.$axios.get(`/story/read`, {\r\n                    params: {\r\n                        story_url: this.story_url,\r\n                        chapter_url: this.chapter_url\r\n                    }\r\n                })\r\n                .then(rs => {\r\n                    let {\r\n                        data\r\n                    } = rs;\r\n\r\n                    this.loading = false;\r\n                    this.loadingNewChapter = false;\r\n\r\n                    let contents = data.data.content.split(/\\n+/);\r\n\r\n                    data.data.content = contents;\r\n\r\n                    this.storyInfo = data.data;\r\n                    this.currentLine = 0;\r\n\r\n                    this.setNav([{\r\n                            path: '/',\r\n                            text: 'Trang chủ'\r\n                        },\r\n                        {\r\n                            path: `/story/${this.storyInfo.url_story}/${this.storyInfo.id}`,\r\n                            text: this.storyInfo.title_story\r\n                        },\r\n                        {\r\n                            path: ``,\r\n                            text: this.storyInfo.chapter\r\n                        },\r\n\r\n                    ])\r\n\r\n                    window.history.replaceState({}, \"\", `/read/story/${this.story_url}/${this.chapter_url}/${this.chapter_id}`);\r\n\r\n                    this.scrollToTop(true);\r\n\r\n                    if (this.reading) this.speak();\r\n                })\r\n        },\r\n        select: function () {\r\n            let selectText = '';\r\n\r\n            if (window.getSelection) {\r\n                console.log(window.getSelection);\r\n                selectText = window.getSelection().toString();\r\n            } else if (document.selection) {\r\n                console.log(document.selection);\r\n                selectText = document.selection.createRange().text;\r\n            }\r\n\r\n            if (selectText.length != 0) {\r\n                this.speak(selectText, false);\r\n            }\r\n\r\n        },\r\n        startSpeak: function () {\r\n            this.reading = !this.reading;\r\n\r\n            if (this.reading) {\r\n                if (this.first) {\r\n                    this.first = false;\r\n\r\n                    this.speak();\r\n\r\n                } else {\r\n\r\n                    responsiveVoice.resume();\r\n                }\r\n\r\n            } else {\r\n                responsiveVoice.pause();\r\n\r\n            }\r\n        },\r\n\r\n        speak: function () {\r\n            responsiveVoice.cancel();\r\n\r\n            if (this.storyInfo.content[this.currentLine].trim() == \"\") {\r\n                this.next();\r\n                return;\r\n            }\r\n\r\n            if (!this.pageVisibility) {\r\n                responsiveVoice.speak('Hello!', this.voice, {\r\n                    volume: 0\r\n                });\r\n                responsiveVoice.resume();\r\n            }\r\n\r\n            responsiveVoice.speak(this.storyInfo.content[this.currentLine], this.voice, {\r\n                rate: 1.3,\r\n                onstart: () => {\r\n                    this.scrollText();\r\n                },\r\n                onerror: (err) => {\r\n                    responsiveVoice.cancel();\r\n                    console.log(err);\r\n                },\r\n                onend: () => {\r\n                    this.next();\r\n                }\r\n            });\r\n        },\r\n        startSpeakLine: function (index) {\r\n            if (this.reading) {\r\n                this.currentLine = index;\r\n                this.speak();\r\n            }\r\n        },\r\n        next: function () {\r\n            this.currentLine++;\r\n\r\n            if (this.currentLine == this.storyInfo.content.length) {\r\n                console.log('End chapter');\r\n\r\n                this.nextChapter();\r\n\r\n                return;\r\n            }\r\n\r\n            this.speak();\r\n        },\r\n\r\n        nextChapter: function () {\r\n            this.loadingNewChapter = true;\r\n\r\n            if (this.chapters.length == 0) {\r\n                this.showToast({\r\n                    type: 'info',\r\n                    text: 'Chương cuối!'\r\n                });\r\n\r\n                this.loadingNewChapter = false;\r\n                return;\r\n            }\r\n            let index = this.getIndex();\r\n\r\n            if (index != this.chapters.length - 1) {\r\n                this.chapter_id = this.chapters[index + 1].chapterId;\r\n                this.chapter_url = this.chapters[index + 1].href;\r\n\r\n                this.loadContent();\r\n            } else {\r\n                this.showToast({\r\n                    type: 'info',\r\n                    text: 'Chương cuối!'\r\n                })\r\n            }\r\n            console.log(this.chapter_id, index);\r\n\r\n        },\r\n        prevChapter: function () {\r\n            this.loadingNewChapter = true;\r\n\r\n            if (this.chapters.length == 0) {\r\n                this.showToast({\r\n                    type: 'info',\r\n                    text: 'Chương cuối!'\r\n                });\r\n\r\n                this.loadingNewChapter = false;\r\n                return;\r\n            }\r\n            let index = this.getIndex();\r\n\r\n            if (index != 0) {\r\n                this.chapter_id = this.chapters[index - 1].chapterId;\r\n                this.chapter_url = this.chapters[index - 1].href;\r\n\r\n                this.loadContent();\r\n            } else {\r\n                this.showToast({\r\n                    type: 'info',\r\n                    text: 'Chương đầu tiên. Không thể trở về!'\r\n                })\r\n            }\r\n            console.log(this.chapter_id, index);\r\n\r\n        },\r\n        scrollText: function () {\r\n\r\n            let objDiv = document.getElementById(`js-line-${this.currentLine}`);\r\n            if (!objDiv) return;\r\n\r\n            app.scrollTop = objDiv.offsetTop - 200;\r\n        },\r\n        scrollToTop: function (onlyTop) {\r\n            let app = document.getElementById(`app`);\r\n            if (onlyTop) {\r\n                app.scrollTop = 0;\r\n                return;\r\n            }\r\n\r\n            let height = document.getElementById(`main-content`).offsetHeight;\r\n            app.scrollTop = this.scrollTop > 180 ? 0 : height;\r\n\r\n        },\r\n        getChapters: function (chaps) {\r\n            this.chapters = chaps;\r\n        },\r\n        getIndex: function () {\r\n            return this.chapters.findIndex(it => it.chapterId == this.chapter_id);\r\n        }\r\n    },\r\n    mounted() {\r\n        responsiveVoice.speak('Hello!', this.voice, {\r\n            volume: 0\r\n        });\r\n\r\n        let app = document.getElementById('app');\r\n\r\n        app.addEventListener('scroll', () => {\r\n            this.scrollTop = app.scrollTop;\r\n        })\r\n\r\n        window.addEventListener('keyup', (event) => {\r\n            if (event.keyCode == 37) {\r\n                this.prevChapter();\r\n            }\r\n            if (event.keyCode == 39) {\r\n                this.nextChapter();\r\n            }\r\n        })\r\n\r\n    },\r\n    destroyed() {\r\n        responsiveVoice.cancel();\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.title {\r\n    color: #4f9bd2;\r\n}\r\n\r\n.chapter .chapter-content p {\r\n    font-size: 24px;\r\n    color: #dfdfdf;\r\n    cursor: pointer;\r\n}\r\n\r\n.chapter .chapter-content p.active {\r\n    background: #2e638a;\r\n    color: #fff;\r\n}\r\n</style>\r\n"]}]}