{"remainingRequest":"/home/thien/Documents/Tutorials/NodeJs/audio/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/thien/Documents/Tutorials/NodeJs/audio/src/views/partials/SearchPartial.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/thien/Documents/Tutorials/NodeJs/audio/src/views/partials/SearchPartial.vue","mtime":1579700252000},{"path":"/home/thien/Documents/Tutorials/NodeJs/audio/node_modules/cache-loader/dist/cjs.js","mtime":1601544776771},{"path":"/home/thien/Documents/Tutorials/NodeJs/audio/node_modules/babel-loader/lib/index.js","mtime":1596448970406},{"path":"/home/thien/Documents/Tutorials/NodeJs/audio/node_modules/cache-loader/dist/cjs.js","mtime":1601544776771},{"path":"/home/thien/Documents/Tutorials/NodeJs/audio/node_modules/vue-loader/lib/index.js","mtime":1604375615900}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgew0KICAgIG1hcE11dGF0aW9ucywNCiAgICBtYXBBY3Rpb25zDQp9IGZyb20gJ3Z1ZXgnDQpleHBvcnQgZGVmYXVsdCB7DQogICAgZGF0YSgpIHsNCiAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgIHN0b3JpZXM6IFtdLA0KICAgICAgICAgICAgcXVlcnk6ICcnLA0KICAgICAgICAgICAgbG9hZGluZzogZmFsc2UNCiAgICAgICAgfQ0KICAgIH0sDQogICAgY3JlYXRlZCgpIHsNCg0KICAgIH0sDQogICAgbWV0aG9kczogew0KICAgICAgICAuLi5tYXBBY3Rpb25zKCdhcHAnLCBbJ3Nob3dUb2FzdCddKSwNCiAgICAgICAgLi4ubWFwTXV0YXRpb25zKCdhcHAnLCBbJ3NldFNob3dTZWFyY2gnXSksDQogICAgICAgIHNlYXJjaFN0b3J5OiBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICBpZiAoIXRoaXMucXVlcnkgfHwgdGhpcy5xdWVyeS50cmltKCkgPT0gJycpIHsNCiAgICAgICAgICAgICAgICB0aGlzLnNob3dUb2FzdCh7DQogICAgICAgICAgICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJywNCiAgICAgICAgICAgICAgICAgICAgdGV4dDogJ1R5cGUgc29tZXRoaW5nLi4uJw0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsNCg0KICAgICAgICAgICAgdGhpcy4kYXhpb3MuZ2V0KCcvc3Rvcnkvc2VhcmNoJywgew0KICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5OiB0aGlzLnF1ZXJ5DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgIC50aGVuKHJzID0+IHsNCiAgICAgICAgICAgICAgICAgICAgbGV0IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGENCiAgICAgICAgICAgICAgICAgICAgfSA9IHJzOw0KDQogICAgICAgICAgICAgICAgICAgIHRoaXMuc3RvcmllcyA9IGRhdGEuZGF0YTsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7DQogICAgICAgICAgICAgICAgfSkNCiAgICAgICAgfSwNCiAgICAgICAgdG9TdG9yeTogZnVuY3Rpb24gKGl0ZW0pIHsNCg0KICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goYC9zdG9yeS8ke2l0ZW0ubmFtZX0vJHtpdGVtLmlkfWApOw0KICAgICAgICB9LA0KICAgICAgICBjbG9zZVNlYXJjaERpYWxvZzogZnVuY3Rpb24oKXsNCiAgICAgICAgICAgIHRoaXMuc2V0U2hvd1NlYXJjaChmYWxzZSk7DQogICAgICAgIH0NCiAgICB9DQp9DQo="},{"version":3,"sources":["SearchPartial.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAoBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SearchPartial.vue","sourceRoot":"src/views/partials","sourcesContent":["<template>\r\n<div class=\"pl-3 pt-3 pb-6\">\r\n    <div class=\"d-flex align-baseline pr-2\">\r\n        <v-text-field label=\"Tìm kiếm gì đó...\" outlined prepend-inner-icon=\"mdi-magnify\" color=\"#aaa\" @keyup=\"searchStory()\" v-model=\"query\" solo dense></v-text-field>\r\n        <v-progress-circular class=\"ml-2 d-block\" width=\"2\" size=\"23\" indeterminate v-if=\"loading\" color=\"primary\"></v-progress-circular>\r\n        <v-icon class=\"ml-1\" v-if=\"!loading\" size=\"26\" color=\"#ccc\" @click=\"closeSearchDialog()\">mdi-close</v-icon>\r\n    </div>\r\n    <perfect-scrollbar class=\"story-result pr-1\">\r\n        <div v-for=\"(item, i) in stories\" :key=\"`search-story-${i}`\">\r\n            <div class=\"story-result-item pl-1\" v-if=\"item.type == 'story'\" v-ripple :loading=\"loading\" @click=\"toStory(item)\">\r\n                <div class=\"search-story-title\">{{item.name}}</div>\r\n                <div class=\"search-story-author\">{{item.author}}</div>\r\n                <div class=\"search-story-amount-chapter\">{{item.number}} chương</div>\r\n            </div>\r\n        </div>\r\n    </perfect-scrollbar>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n    mapMutations,\r\n    mapActions\r\n} from 'vuex'\r\nexport default {\r\n    data() {\r\n        return {\r\n            stories: [],\r\n            query: '',\r\n            loading: false\r\n        }\r\n    },\r\n    created() {\r\n\r\n    },\r\n    methods: {\r\n        ...mapActions('app', ['showToast']),\r\n        ...mapMutations('app', ['setShowSearch']),\r\n        searchStory: function () {\r\n            if (!this.query || this.query.trim() == '') {\r\n                this.showToast({\r\n                    type: 'warning',\r\n                    text: 'Type something...'\r\n                })\r\n                return;\r\n            }\r\n            this.loading = true;\r\n\r\n            this.$axios.get('/story/search', {\r\n                    params: {\r\n                        query: this.query\r\n                    }\r\n                })\r\n                .then(rs => {\r\n                    let {\r\n                        data\r\n                    } = rs;\r\n\r\n                    this.stories = data.data;\r\n                    this.loading = false;\r\n                })\r\n        },\r\n        toStory: function (item) {\r\n\r\n            this.$router.push(`/story/${item.name}/${item.id}`);\r\n        },\r\n        closeSearchDialog: function(){\r\n            this.setShowSearch(false);\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\r\n"]}]}