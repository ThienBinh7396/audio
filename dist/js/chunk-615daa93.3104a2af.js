(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-615daa93","chunk-2dc0d350"],{"0481":function(t,e,n){"use strict";var i=n("23e7"),r=n("a2bf"),o=n("7b0b"),a=n("50c4"),s=n("a691"),c=n("65f0");i({target:"Array",proto:!0},{flat:function(){var t=arguments.length?arguments[0]:void 0,e=o(this),n=a(e.length),i=c(e,0);return i.length=r(i,e,e,n,0,void 0===t?1:s(t)),i}})},"0fd9":function(t,e,n){"use strict";n("99af"),n("4160"),n("caad"),n("13d5"),n("4ec9"),n("b64b"),n("d3b7"),n("ac1f"),n("2532"),n("3ca3"),n("5319"),n("159b"),n("ddb0");var i=n("ade3"),r=n("5530"),o=(n("4b85"),n("2b0e")),a=n("d9f7"),s=n("80d2"),c=["sm","md","lg","xl"],u=["start","end","center"];function l(t,e){return c.reduce((function(n,i){return n[t+Object(s["v"])(i)]=e(),n}),{})}var d=function(t){return[].concat(u,["baseline","stretch"]).includes(t)},h=l("align",(function(){return{type:String,default:null,validator:d}})),f=function(t){return[].concat(u,["space-between","space-around"]).includes(t)},p=l("justify",(function(){return{type:String,default:null,validator:f}})),v=function(t){return[].concat(u,["space-between","space-around","stretch"]).includes(t)},g=l("alignContent",(function(){return{type:String,default:null,validator:v}})),m={align:Object.keys(h),justify:Object.keys(p),alignContent:Object.keys(g)},b={align:"align",justify:"justify",alignContent:"align-content"};function y(t,e,n){var i=b[t];if(null!=n){if(e){var r=e.replace(t,"");i+="-".concat(r)}return i+="-".concat(n),i.toLowerCase()}}var _=new Map;e["a"]=o["a"].extend({name:"v-row",functional:!0,props:Object(r["a"])(Object(r["a"])(Object(r["a"])({tag:{type:String,default:"div"},dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:d}},h),{},{justify:{type:String,default:null,validator:f}},p),{},{alignContent:{type:String,default:null,validator:v}},g),render:function(t,e){var n=e.props,r=e.data,o=e.children,s="";for(var c in n)s+=String(n[c]);var u=_.get(s);return u||function(){var t,e;for(e in u=[],m)m[e].forEach((function(t){var i=n[t],r=y(e,t,i);r&&u.push(r)}));u.push((t={"no-gutters":n.noGutters,"row--dense":n.dense},Object(i["a"])(t,"align-".concat(n.align),n.align),Object(i["a"])(t,"justify-".concat(n.justify),n.justify),Object(i["a"])(t,"align-content-".concat(n.alignContent),n.alignContent),t)),_.set(s,u)}(),t(n.tag,Object(a["a"])(r,{staticClass:"row",class:u}),o)}})},"10d1":function(t,e,n){"use strict";var i,r=n("da84"),o=n("e2cc"),a=n("f183"),s=n("6d61"),c=n("acac"),u=n("861d"),l=n("69f3").enforce,d=n("7f9a"),h=!r.ActiveXObject&&"ActiveXObject"in r,f=Object.isExtensible,p=function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},v=t.exports=s("WeakMap",p,c);if(d&&h){i=c.getConstructor(p,"WeakMap",!0),a.REQUIRED=!0;var g=v.prototype,m=g["delete"],b=g.has,y=g.get,_=g.set;o(g,{delete:function(t){if(u(t)&&!f(t)){var e=l(this);return e.frozen||(e.frozen=new i),m.call(this,t)||e.frozen["delete"](t)}return m.call(this,t)},has:function(t){if(u(t)&&!f(t)){var e=l(this);return e.frozen||(e.frozen=new i),b.call(this,t)||e.frozen.has(t)}return b.call(this,t)},get:function(t){if(u(t)&&!f(t)){var e=l(this);return e.frozen||(e.frozen=new i),b.call(this,t)?y.call(this,t):e.frozen.get(t)}return y.call(this,t)},set:function(t,e){if(u(t)&&!f(t)){var n=l(this);n.frozen||(n.frozen=new i),b.call(this,t)?_.call(this,t,e):n.frozen.set(t,e)}else _.call(this,t,e);return this}})}},"11cf":function(t,e,n){},"297c":function(t,e,n){"use strict";n("a9e3");var i=n("2b0e"),r=n("37c6");e["a"]=i["a"].extend().extend({name:"loadable",props:{loading:{type:[Boolean,String],default:!1},loaderHeight:{type:[Number,String],default:2}},methods:{genProgress:function(){return!1===this.loading?null:this.$slots.progress||this.$createElement(r["a"],{props:{absolute:!0,color:!0===this.loading||""===this.loading?this.color||"primary":this.loading,height:this.loaderHeight,indeterminate:!0}})}}})},"37c6":function(t,e,n){"use strict";n("a9e3"),n("c7cd");var i=n("5530"),r=n("ade3"),o=(n("6ece"),n("0789")),a=n("a9ad"),s=n("fe6c"),c=n("a452"),u=n("7560"),l=n("80d2"),d=n("58df"),h=Object(d["a"])(a["a"],Object(s["b"])(["absolute","fixed","top","bottom"]),c["a"],u["a"]),f=h.extend({name:"v-progress-linear",props:{active:{type:Boolean,default:!0},backgroundColor:{type:String,default:null},backgroundOpacity:{type:[Number,String],default:null},bufferValue:{type:[Number,String],default:100},color:{type:String,default:"primary"},height:{type:[Number,String],default:4},indeterminate:Boolean,query:Boolean,reverse:Boolean,rounded:Boolean,stream:Boolean,striped:Boolean,value:{type:[Number,String],default:0}},data:function(){return{internalLazyValue:this.value||0}},computed:{__cachedBackground:function(){return this.$createElement("div",this.setBackgroundColor(this.backgroundColor||this.color,{staticClass:"v-progress-linear__background",style:this.backgroundStyle}))},__cachedBar:function(){return this.$createElement(this.computedTransition,[this.__cachedBarType])},__cachedBarType:function(){return this.indeterminate?this.__cachedIndeterminate:this.__cachedDeterminate},__cachedBuffer:function(){return this.$createElement("div",{staticClass:"v-progress-linear__buffer",style:this.styles})},__cachedDeterminate:function(){return this.$createElement("div",this.setBackgroundColor(this.color,{staticClass:"v-progress-linear__determinate",style:{width:Object(l["e"])(this.normalizedValue,"%")}}))},__cachedIndeterminate:function(){return this.$createElement("div",{staticClass:"v-progress-linear__indeterminate",class:{"v-progress-linear__indeterminate--active":this.active}},[this.genProgressBar("long"),this.genProgressBar("short")])},__cachedStream:function(){return this.stream?this.$createElement("div",this.setTextColor(this.color,{staticClass:"v-progress-linear__stream",style:{width:Object(l["e"])(100-this.normalizedBuffer,"%")}})):null},backgroundStyle:function(){var t,e=null==this.backgroundOpacity?this.backgroundColor?1:.3:parseFloat(this.backgroundOpacity);return t={opacity:e},Object(r["a"])(t,this.isReversed?"right":"left",Object(l["e"])(this.normalizedValue,"%")),Object(r["a"])(t,"width",Object(l["e"])(this.normalizedBuffer-this.normalizedValue,"%")),t},classes:function(){return Object(i["a"])({"v-progress-linear--absolute":this.absolute,"v-progress-linear--fixed":this.fixed,"v-progress-linear--query":this.query,"v-progress-linear--reactive":this.reactive,"v-progress-linear--reverse":this.isReversed,"v-progress-linear--rounded":this.rounded,"v-progress-linear--striped":this.striped},this.themeClasses)},computedTransition:function(){return this.indeterminate?o["b"]:o["d"]},isReversed:function(){return this.$vuetify.rtl!==this.reverse},normalizedBuffer:function(){return this.normalize(this.bufferValue)},normalizedValue:function(){return this.normalize(this.internalLazyValue)},reactive:function(){return Boolean(this.$listeners.change)},styles:function(){var t={};return this.active||(t.height=0),this.indeterminate||100===parseFloat(this.normalizedBuffer)||(t.width=Object(l["e"])(this.normalizedBuffer,"%")),t}},methods:{genContent:function(){var t=Object(l["l"])(this,"default",{value:this.internalLazyValue});return t?this.$createElement("div",{staticClass:"v-progress-linear__content"},t):null},genListeners:function(){var t=this.$listeners;return this.reactive&&(t.click=this.onClick),t},genProgressBar:function(t){return this.$createElement("div",this.setBackgroundColor(this.color,{staticClass:"v-progress-linear__indeterminate",class:Object(r["a"])({},t,!0)}))},onClick:function(t){if(this.reactive){var e=this.$el.getBoundingClientRect(),n=e.width;this.internalValue=t.offsetX/n*100}},normalize:function(t){return t<0?0:t>100?100:parseFloat(t)}},render:function(t){var e={staticClass:"v-progress-linear",attrs:{role:"progressbar","aria-valuemin":0,"aria-valuemax":this.normalizedBuffer,"aria-valuenow":this.indeterminate?void 0:this.normalizedValue},class:this.classes,style:{bottom:this.bottom?0:void 0,height:this.active?Object(l["e"])(this.height):0,top:this.top?0:void 0},on:this.genListeners()};return t("div",e,[this.__cachedStream,this.__cachedBackground,this.__cachedBuffer,this.__cachedBar,this.genContent()])}});e["a"]=f},4069:function(t,e,n){var i=n("44d2");i("flat")},"4d63":function(t,e,n){var i=n("83ab"),r=n("da84"),o=n("94ca"),a=n("7156"),s=n("9bf2").f,c=n("241c").f,u=n("44e7"),l=n("ad6d"),d=n("9f7f"),h=n("6eeb"),f=n("d039"),p=n("69f3").set,v=n("2626"),g=n("b622"),m=g("match"),b=r.RegExp,y=b.prototype,_=/a/g,C=/a/g,k=new b(_)!==_,x=d.UNSUPPORTED_Y,w=i&&o("RegExp",!k||x||f((function(){return C[m]=!1,b(_)!=_||b(C)==C||"/a/i"!=b(_,"i")})));if(w){var j=function(t,e){var n,i=this instanceof j,r=u(t),o=void 0===e;if(!i&&r&&t.constructor===j&&o)return t;k?r&&!o&&(t=t.source):t instanceof j&&(o&&(e=l.call(t)),t=t.source),x&&(n=!!e&&e.indexOf("y")>-1,n&&(e=e.replace(/y/g,"")));var s=a(k?new b(t,e):b(t,e),i?this:y,j);return x&&n&&p(s,{sticky:n}),s},O=function(t){t in j||s(j,t,{configurable:!0,get:function(){return b[t]},set:function(e){b[t]=e}})},S=c(b),T=0;while(S.length>T)O(S[T++]);y.constructor=j,j.prototype=y,h(r,"RegExp",j)}v("RegExp")},"4ec9":function(t,e,n){"use strict";var i=n("6d61"),r=n("6566");t.exports=i("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),r)},"615b":function(t,e,n){},"62ad":function(t,e,n){"use strict";n("4160"),n("caad"),n("13d5"),n("45fc"),n("4ec9"),n("a9e3"),n("b64b"),n("d3b7"),n("ac1f"),n("3ca3"),n("5319"),n("2ca0"),n("159b"),n("ddb0");var i=n("ade3"),r=n("5530"),o=(n("4b85"),n("2b0e")),a=n("d9f7"),s=n("80d2"),c=["sm","md","lg","xl"],u=function(){return c.reduce((function(t,e){return t[e]={type:[Boolean,String,Number],default:!1},t}),{})}(),l=function(){return c.reduce((function(t,e){return t["offset"+Object(s["v"])(e)]={type:[String,Number],default:null},t}),{})}(),d=function(){return c.reduce((function(t,e){return t["order"+Object(s["v"])(e)]={type:[String,Number],default:null},t}),{})}(),h={col:Object.keys(u),offset:Object.keys(l),order:Object.keys(d)};function f(t,e,n){var i=t;if(null!=n&&!1!==n){if(e){var r=e.replace(t,"");i+="-".concat(r)}return"col"!==t||""!==n&&!0!==n?(i+="-".concat(n),i.toLowerCase()):i.toLowerCase()}}var p=new Map;e["a"]=o["a"].extend({name:"v-col",functional:!0,props:Object(r["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])({cols:{type:[Boolean,String,Number],default:!1}},u),{},{offset:{type:[String,Number],default:null}},l),{},{order:{type:[String,Number],default:null}},d),{},{alignSelf:{type:String,default:null,validator:function(t){return["auto","start","end","center","baseline","stretch"].includes(t)}},tag:{type:String,default:"div"}}),render:function(t,e){var n=e.props,r=e.data,o=e.children,s=(e.parent,"");for(var c in n)s+=String(n[c]);var u=p.get(s);return u||function(){var t,e;for(e in u=[],h)h[e].forEach((function(t){var i=n[t],r=f(e,t,i);r&&u.push(r)}));var r=u.some((function(t){return t.startsWith("col-")}));u.push((t={col:!r||!n.cols},Object(i["a"])(t,"col-".concat(n.cols),n.cols),Object(i["a"])(t,"offset-".concat(n.offset),n.offset),Object(i["a"])(t,"order-".concat(n.order),n.order),Object(i["a"])(t,"align-self-".concat(n.alignSelf),n.alignSelf),t)),p.set(s,u)}(),t(n.tag,Object(a["a"])(r,{class:u}),o)}})},6566:function(t,e,n){"use strict";var i=n("9bf2").f,r=n("7c73"),o=n("e2cc"),a=n("0366"),s=n("19aa"),c=n("2266"),u=n("7dd0"),l=n("2626"),d=n("83ab"),h=n("f183").fastKey,f=n("69f3"),p=f.set,v=f.getterFor;t.exports={getConstructor:function(t,e,n,u){var l=t((function(t,i){s(t,l,e),p(t,{type:e,index:r(null),first:void 0,last:void 0,size:0}),d||(t.size=0),void 0!=i&&c(i,t[u],t,n)})),f=v(e),g=function(t,e,n){var i,r,o=f(t),a=m(t,e);return a?a.value=n:(o.last=a={index:r=h(e,!0),key:e,value:n,previous:i=o.last,next:void 0,removed:!1},o.first||(o.first=a),i&&(i.next=a),d?o.size++:t.size++,"F"!==r&&(o.index[r]=a)),t},m=function(t,e){var n,i=f(t),r=h(e);if("F"!==r)return i.index[r];for(n=i.first;n;n=n.next)if(n.key==e)return n};return o(l.prototype,{clear:function(){var t=this,e=f(t),n=e.index,i=e.first;while(i)i.removed=!0,i.previous&&(i.previous=i.previous.next=void 0),delete n[i.index],i=i.next;e.first=e.last=void 0,d?e.size=0:t.size=0},delete:function(t){var e=this,n=f(e),i=m(e,t);if(i){var r=i.next,o=i.previous;delete n.index[i.index],i.removed=!0,o&&(o.next=r),r&&(r.previous=o),n.first==i&&(n.first=r),n.last==i&&(n.last=o),d?n.size--:e.size--}return!!i},forEach:function(t){var e,n=f(this),i=a(t,arguments.length>1?arguments[1]:void 0,3);while(e=e?e.next:n.first){i(e.value,e.key,this);while(e&&e.removed)e=e.previous}},has:function(t){return!!m(this,t)}}),o(l.prototype,n?{get:function(t){var e=m(this,t);return e&&e.value},set:function(t,e){return g(this,0===t?0:t,e)}}:{add:function(t){return g(this,t=0===t?0:t,t)}}),d&&i(l.prototype,"size",{get:function(){return f(this).size}}),l},setStrong:function(t,e,n){var i=e+" Iterator",r=v(e),o=v(i);u(t,e,(function(t,e){p(this,{type:i,target:t,state:r(t),kind:e,last:void 0})}),(function(){var t=o(this),e=t.kind,n=t.last;while(n&&n.removed)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),l(e)}}},"6d61":function(t,e,n){"use strict";var i=n("23e7"),r=n("da84"),o=n("94ca"),a=n("6eeb"),s=n("f183"),c=n("2266"),u=n("19aa"),l=n("861d"),d=n("d039"),h=n("1c7e"),f=n("d44e"),p=n("7156");t.exports=function(t,e,n){var v=-1!==t.indexOf("Map"),g=-1!==t.indexOf("Weak"),m=v?"set":"add",b=r[t],y=b&&b.prototype,_=b,C={},k=function(t){var e=y[t];a(y,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(g&&!l(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return g&&!l(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(g&&!l(t))&&e.call(this,0===t?0:t)}:function(t,n){return e.call(this,0===t?0:t,n),this})};if(o(t,"function"!=typeof b||!(g||y.forEach&&!d((function(){(new b).entries().next()})))))_=n.getConstructor(e,t,v,m),s.REQUIRED=!0;else if(o(t,!0)){var x=new _,w=x[m](g?{}:-0,1)!=x,j=d((function(){x.has(1)})),O=h((function(t){new b(t)})),S=!g&&d((function(){var t=new b,e=5;while(e--)t[m](e,e);return!t.has(-0)}));O||(_=e((function(e,n){u(e,_,t);var i=p(new b,e,_);return void 0!=n&&c(n,i[m],i,v),i})),_.prototype=y,y.constructor=_),(j||S)&&(k("delete"),k("has"),v&&k("get")),(S||w)&&k(m),g&&y.clear&&delete y.clear}return C[t]=_,i({global:!0,forced:_!=b},C),f(_,t),g||n.setStrong(_,t,v),_}},"6ece":function(t,e,n){},"80e0":function(t,e,n){var i=n("746f");i("replace")},"85f8":function(t,e,n){"use strict";n("11cf")},"8cd0":function(t,e,n){},"99d9":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var i=n("b0af"),r=n("80d2"),o=Object(r["g"])("v-card__actions"),a=Object(r["g"])("v-card__subtitle"),s=Object(r["g"])("v-card__text"),c=Object(r["g"])("v-card__title");i["a"]},"9d26":function(t,e,n){"use strict";var i=n("132d");e["a"]=i["a"]},a293:function(t,e,n){"use strict";n("45fc");var i=n("53ca");function r(){return!0}function o(t,e,n){var o="function"===typeof n.value?n.value:n.value.handler,a="object"===Object(i["a"])(n.value)&&n.value.closeConditional||r;if(t&&!1!==a(t)){var s=("object"===Object(i["a"])(n.value)&&n.value.include||function(){return[]})();s.push(e),!s.some((function(e){return e.contains(t.target)}))&&setTimeout((function(){a(t)&&o&&o(t)}),0)}}var a={inserted:function(t,e){var n=function(n){return o(n,t,e)},i=document.querySelector("[data-app]")||document.body;i.addEventListener("click",n,!0),t._clickOutside=n},unbind:function(t){if(t._clickOutside){var e=document.querySelector("[data-app]")||document.body;e&&e.removeEventListener("click",t._clickOutside,!0),delete t._clickOutside}}};e["a"]=a},a2bf:function(t,e,n){"use strict";var i=n("e8b5"),r=n("50c4"),o=n("0366"),a=function(t,e,n,s,c,u,l,d){var h,f=c,p=0,v=!!l&&o(l,d,3);while(p<s){if(p in n){if(h=v?v(n[p],p,e):n[p],u>0&&i(h))f=a(t,e,h,r(h.length),f,u-1)-1;else{if(f>=9007199254740991)throw TypeError("Exceed the acceptable array length");t[f]=h}f++}p++}return f};t.exports=a},acac:function(t,e,n){"use strict";var i=n("e2cc"),r=n("f183").getWeakData,o=n("825a"),a=n("861d"),s=n("19aa"),c=n("2266"),u=n("b727"),l=n("5135"),d=n("69f3"),h=d.set,f=d.getterFor,p=u.find,v=u.findIndex,g=0,m=function(t){return t.frozen||(t.frozen=new b)},b=function(){this.entries=[]},y=function(t,e){return p(t.entries,(function(t){return t[0]===e}))};b.prototype={get:function(t){var e=y(this,t);if(e)return e[1]},has:function(t){return!!y(this,t)},set:function(t,e){var n=y(this,t);n?n[1]=e:this.entries.push([t,e])},delete:function(t){var e=v(this.entries,(function(e){return e[0]===t}));return~e&&this.entries.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,n,u){var d=t((function(t,i){s(t,d,e),h(t,{type:e,id:g++,frozen:void 0}),void 0!=i&&c(i,t[u],t,n)})),p=f(e),v=function(t,e,n){var i=p(t),a=r(o(e),!0);return!0===a?m(i).set(e,n):a[i.id]=n,t};return i(d.prototype,{delete:function(t){var e=p(this);if(!a(t))return!1;var n=r(t);return!0===n?m(e)["delete"](t):n&&l(n,e.id)&&delete n[e.id]},has:function(t){var e=p(this);if(!a(t))return!1;var n=r(t);return!0===n?m(e).has(t):n&&l(n,e.id)}}),i(d.prototype,n?{get:function(t){var e=p(this);if(a(t)){var n=r(t);return!0===n?m(e).get(t):n?n[e.id]:void 0}},set:function(t,e){return v(this,t,e)}}:{add:function(t){return v(this,t,!0)}}),d}}},ae93f:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-row",[n("v-col",{staticClass:"relative",attrs:{cols:"12"}},[t.loading?n("loading-icon",{attrs:{w:"82",margin:"160px auto 0"}}):t._e(),n("loading-circular-dialog",{attrs:{show:t.loadingNewChapter}}),n("div",{staticClass:"d-none"},[n("audio",{attrs:{preload:"metadata",id:"speech-audio"},on:{loadstart:function(e){return t.loadstart("audio")},error:function(e){return t.error("audio")},ended:function(e){return t.ended("audio")},play:function(e){return t.play("audio")},playing:function(e){return t.playing("audio")}}}),n("audio",{attrs:{preload:"metadata",id:"speech-audio-another"},on:{loadstart:function(e){return t.loadstart("audioAnother")},error:function(e){return t.error("audioAnother")},ended:function(e){return t.ended("audioAnother")},play:function(e){return t.play("audioAnother")},playing:function(e){return t.playing("audioAnother")}}})]),t.loading?t._e():n("div",{staticClass:"tb-dialog",class:{show:t.dialog}},[n("div",{staticClass:"tb-dialog-overplay",on:{click:function(e){t.dialog=!1}}}),n("v-card",{staticClass:"dialog-chapter-content",attrs:{id:"js-dialog-chapter-content"}},[n("chapter",{attrs:{dialog:!0,current:Number(t.chapter_id),story_id:t.storyInfo.id,story_url:t.storyInfo.url_story},on:{getChapter:t.getChapters}})],1)],1),t.loading?t._e():n("div",{staticClass:"tb-dialog",class:{show:t.dialogSetting}},[n("div",{staticClass:"tb-dialog-overplay",on:{click:function(e){t.dialogSetting=!1}}}),n("v-card",{staticClass:"dialog-setting-content"},[n("v-card-title",{staticClass:"px-3 py-2 text-blur"},[t._v("Cấu Hình: ")]),n("user-config-dialog",{staticClass:"px-3"})],1)],1),t.loading?t._e():n("div",{staticClass:"tb-dialog",class:{show:t.dialogTimer}},[n("div",{staticClass:"tb-dialog-overplay",on:{click:function(e){t.dialogTimer=!1}}}),n("v-card",{staticClass:"dialog-setting-content"},[n("v-card-title",{staticClass:"px-3 pt-1 py-2 text-blur"},[t._v("Hẹn giờ tắt: ")]),n("v-text-field",{staticClass:"px-4 mt-1",attrs:{id:"countdown-timer-input",type:"number",min:"1",max:"720",label:"Điền số phút...",solo:"","single-line":"",outlined:"",dense:""},on:{keydown:function(e){return t.checkNumber(e)},keyup:function(e){return t.checkMax()},change:function(e){return t.checkMax()},blur:function(e){return t.checkMax()},focus:function(e){return t.checkMax()}}}),n("div",{staticClass:"px-4 mb-4"},[n("v-btn",{attrs:{small:"",color:"#1e9022"},on:{click:function(e){return t.startCountDownTimer()}}},[t._v("Bắt đầu")])],1)],1)],1),n("div",{directives:[{name:"show",rawName:"v-show",value:t.showTimer,expression:"showTimer"}],staticClass:"countdown-timer",class:{sticky:t.currentScrollPoint>180}},[n("div",{staticClass:"countdown-timer-chapter"})]),t.loading?t._e():n("div",{staticClass:"chapter px-0 px-md-5 px-lg-10"},[n("h1",{staticClass:"mt-2 text-center"},[t._v(t._s(t.storyInfo.title_story))]),n("div",{staticClass:"title text-center"},[t._v(t._s(t.storyInfo.chapter))]),n("div",{staticClass:"chapter-content mt-12 mb-12",style:{"font-size":t.config.fontSize+"px"}},t._l(t.storyInfo.content,(function(e,i){return n("p",{key:"line-"+i,staticClass:"px-3",class:{active:i==t.currentLine},attrs:{id:"js-line-"+i},domProps:{innerHTML:t._s(e)},on:{click:function(e){return t.startSpeakLine(i)}}})})),0),n("div",{staticClass:"control-box d-flex justify-space-between px-6 mt-4 mb-12"},[0!=t.getIndex()?n("v-btn",{attrs:{outlined:""},on:{click:function(e){return t.prevChapter()}}},[n("v-icon",{staticClass:"mr-1"},[t._v("mdi-arrow-left")]),t._v(" Previous ")],1):t._e(),t.getIndex()!=t.chapters.length-1?n("v-btn",{attrs:{outlined:""},on:{click:function(e){return t.nextChapter()}}},[t._v(" Next "),n("v-icon",{staticClass:"ml-1"},[t._v("mdi-arrow-right")])],1):t._e()],1)]),t.detectMobile?t._e():n("div",{staticClass:"button-action-group"},[n("v-speed-dial",{attrs:{top:"",direction:"top","open-on-hover":!1,transition:"slide-y-reverse-transition"},scopedSlots:t._u([{key:"activator",fn:function(){return[n("v-btn",{attrs:{color:"#1088ff",dark:"",fab:""},model:{value:t.fab,callback:function(e){t.fab=e},expression:"fab"}},[t.fab?n("v-icon",[t._v("mdi-close")]):n("v-icon",{attrs:{size:"26"}},[t._v("mdi-gesture-double-tap")])],1)]},proxy:!0}],null,!1,2404728883),model:{value:t.fab,callback:function(e){t.fab=e},expression:"fab"}},[n("v-btn",{staticClass:"size-default",attrs:{color:"#2740e0",dark:"",fab:""},on:{click:function(e){return e.stopPropagation(),t.startSpeak()}}},[t.reading?n("radio-gif",{staticStyle:{"margin-right":"-2px","margin-top":"-2px"},attrs:{width:"32"}}):t._e(),t.reading?t._e():n("v-icon",[t._v("mdi-headphones-settings")])],1),n("v-btn",{attrs:{color:"#FF8D00FF",small:"",dark:"",fab:""},on:{click:function(e){e.stopPropagation(),t.dialog=!0}}},[n("v-icon",[t._v("mdi-format-list-bulleted")])],1),n("v-btn",{attrs:{color:"#ff0000",small:"",dark:"",fab:""},on:{click:function(e){e.stopPropagation(),t.dialogTimer=!0}}},[n("v-icon",[t._v("mdi-timer")])],1),n("v-btn",{attrs:{color:"#529e33",small:"",dark:"",fab:""},on:{click:function(e){e.stopPropagation(),t.dialogSetting=!0}}},[n("v-icon",{staticClass:"ld xhalf ld-spin"},[t._v("mdi-cog")])],1),n("v-btn",{attrs:{color:"#F44336",small:"",dark:"",fab:""},on:{click:function(e){return e.stopPropagation(),t.scrollToTop()}}},[n("v-icon",{staticClass:"ld ld-jump",class:{"mt-1":!t.scrollTop}},[t._v(t._s(t.scrollTop?"mdi-chevron-up":"mdi-chevron-down"))])],1)],1)],1),t.detectMobile?n("div",{staticClass:"mobile-action"},[n("div",{staticClass:"bottom-button-control"},[n("div",{on:{click:function(e){return e.stopPropagation(),t.scrollToTop()}}},[n("v-icon",{staticClass:"ld ld-jump",class:{"mt-1":!t.scrollTop}},[t._v(t._s(t.scrollTop?"mdi-chevron-up":"mdi-chevron-down"))])],1),n("div",{on:{click:function(e){e.stopPropagation(),t.dialogSetting=!0}}},[n("v-icon",{staticClass:"ld xhalf ld-spin"},[t._v("mdi-cog")])],1),n("div",{on:{click:function(e){e.stopPropagation(),t.dialogTimer=!0}}},[n("v-icon",{staticClass:"ld ld-jingle"},[t._v("mdi-timer")])],1),n("div",{on:{click:function(e){return e.stopPropagation(),t.$store.commit("app/setShowSearch",!0)}}},[n("v-icon",{staticClass:"ld ld-tremble"},[t._v("mdi-magnify")])],1),n("div",{on:{click:function(e){e.stopPropagation(),t.dialog=!0}}},[n("v-icon",[t._v("mdi-format-list-bulleted")])],1)]),n("div",{staticClass:"button-audio-control"},[n("v-btn",{staticClass:"size-default",attrs:{color:"#2740e0",dark:"",fab:""},on:{click:function(e){return e.stopPropagation(),t.startSpeak()}}},[t.reading?n("radio-gif",{staticStyle:{"margin-right":"-2px","margin-top":"-2px"},attrs:{width:"32"}}):t._e(),t.reading?t._e():n("v-icon",[t._v("mdi-headphones-settings")])],1)],1)]):t._e()],1)],1)},r=[],o=(n("99af"),n("4de4"),n("c740"),n("a9e3"),n("d3b7"),n("ac1f"),n("25f0"),n("466d"),n("1276"),n("498a"),n("a4d3"),n("e01a"),n("80e0"),n("13d5"),n("b64b"),n("4d63"),n("3ca3"),n("5319"),n("10d1"),n("ddb0"),n("53ca")),a=(n("4ec9"),n("7e84")),s=n("b380");n("c975");function c(t){return-1!==Function.toString.call(t).indexOf("[native code]")}n("4ae1");var u=n("d967");function l(t,e,n){return l=Object(u["a"])()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var r=Function.bind.apply(t,i),o=new r;return n&&Object(s["a"])(o,n.prototype),o},l.apply(null,arguments)}function d(t){var e="function"===typeof Map?new Map:void 0;return d=function(t){if(null===t||!c(t))return t;if("function"!==typeof t)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return l(t,arguments,Object(a["a"])(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Object(s["a"])(n,t)},d(t)}n("99de");var h=n("262e");function f(t,e){f=function(t,e){return new a(t,void 0,e)};var n=d(RegExp),i=RegExp.prototype,r=new WeakMap;function a(t,e,i){var o=n.call(this,t,e);return r.set(o,i||r.get(t)),o}function s(t,e){var n=r.get(e);return Object.keys(n).reduce((function(e,i){return e[i]=t[n[i]],e}),Object.create(null))}return Object(h["a"])(a,n),a.prototype.exec=function(t){var e=i.exec.call(this,t);return e&&(e.groups=s(e,this)),e},a.prototype[Symbol.replace]=function(t,e){if("string"===typeof e){var n=r.get(this);return i[Symbol.replace].call(this,t,e.replace(/\$<([^>]+)>/g,(function(t,e){return"$"+n[e]})))}if("function"===typeof e){var a=this;return i[Symbol.replace].call(this,t,(function(){var t=[];return t.push.apply(t,arguments),"object"!==Object(o["a"])(t[t.length-1])&&t.push(s(t,a)),e.apply(this,t)}))}return i[Symbol.replace].call(this,t,e)},f.apply(this,arguments)}var p=n("5530"),v=n("2f62"),g={components:{Chapter:function(){return Promise.all([n.e("chunk-edd363f0"),n.e("chunk-634980e8")]).then(n.bind(null,"2430"))},UserConfigDialog:function(){return n.e("chunk-7d9e8dae").then(n.bind(null,"aa77"))}},data:function(){return{fab:!0,dialog:!1,dialogSetting:!1,dialogSearch:!1,dialogTimer:!1,showTimer:!1,countDown:null,story_url:"",chapter_url:"",chapter_id:-1,storyInfo:{},chapters:[],loading:!1,loadingNewChapter:!1,currentLine:0,pathInLine:[],reading:!1,voice:"Vietnamese Female",scrollTop:!1,currentScrollPoint:0,audio:null,audioCountError:0,audioAnother:null,audioAnotherCountError:0,currentAudio:"audio"}},created:function(){this.init()},computed:Object(p["a"])({},Object(v["d"])("app",["config","detectMobile","recentStories"])),watch:{$route:function(t){this.dialog=!1,this.init()},config:function(t){console.log("Audio: "),console.log(t),this.updateConfig()}},methods:Object(p["a"])(Object(p["a"])(Object(p["a"])({},Object(v["c"])("app",["setNav","setTitle","setShowSearch","setTopBackground"])),Object(v["b"])("app",["showToast","updateRecentlyStory"])),{},{init:function(){var t=this.$route.params,e=t.story_url,n=t.chapter_url,i=t.chapter_id;this.story_url=e,this.chapter_url=n,this.chapter_id=i,this.loading=!0,this.loadContent()},loadContent:function(){var t=this;this.$axios.get("/story/read",{params:{story_url:this.story_url,chapter_url:this.chapter_url}}).then((function(e){var n=e.data;if("error"!=n.type&&null!=n.data.id&&n.data.title_story){t.loading=!1,t.loadingNewChapter=!1;var i=n.data.content.split(/\n+/).filter((function(t){return t&&""!=t.trim().length}));n.data.content=i,t.storyInfo=n.data,t.currentLine=0,t.reading&&(t.currentAudio="audio",t.audio.src=t.getUrl(t.currentLine),t.speak()),t.setNav([{path:"/",text:"Trang chủ"},{path:"/story/".concat(t.storyInfo.url_story,"/").concat(t.storyInfo.id),text:t.storyInfo.title_story},{path:"",text:t.storyInfo.chapter}]),t.setTitle("".concat(t.storyInfo.title_story," - ").concat(t.storyInfo.chapter)),window.history.replaceState({},"","/read/story/".concat(t.story_url,"/").concat(t.chapter_url,"/").concat(t.chapter_id)),t.scrollToTop(!0),t.reading&&t.speak(),t.updateRecentlyStory({storyInfo:t.storyInfo,chapterId:t.$route.params.chapter_id,chapterHref:t.$route.params.chapter_url});var r=t.recentStories.findIndex((function(e){return e.id==t.storyInfo.id}));r>=0&&t.setTopBackground(imageUrl(t.recentStories[r].image))}else t.$router.push("/404")}))},updateConfig:function(){this.audio&&(this.audio.volume=this.config.volume,this.audio.playbackRate=this.config.speed),this.audioAnother&&(this.audioAnother.volume=this.config.volume,this.audioAnother.playbackRate=this.config.speed)},select:function(){var t="";window.getSelection?(console.log(window.getSelection),t=window.getSelection().toString()):document.selection&&(console.log(document.selection),t=document.selection.createRange().text),0!=t.length&&this.speak(t,!1)},startSpeak:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.reading=!this.reading,t||(this.reading=!1),this.reading?0==this.currentLine?(this.audio.src=this.getUrl(this.currentLine),this.speak()):this[this.currentAudio].play():(this.audio.pause(),this.audioAnother.pause())},loadstart:function(t){console.log(t)},play:function(t){this.updateConfig()},playing:function(t){"audio"==t?this.audioCountError=0:this.audioAnotherCountError=0,this.currentAudio!=t&&(this[t].pause(),this[t].currentTime=0)},ended:function(){var t=this;this.currentLine==this.storyInfo.content.length-1&&this.getIndex()!=this.chapters.length-1?(responsiveVoice.speak("Chương tiếp! ".concat(this.chapters[this.getIndex()+1].title,"}"),this.voice,{rate:1.3}),setTimeout((function(){t.next()}),2500)):this.next()},error:function(t){var e=this;setTimeout((function(){console.log("error: ",t);var n=e[t].src.match(f(/\?text=(.*?)&/,{text:1}))[1];n="."==n[n.length-1]?n.substring(0,n.length-1):"".concat(n,".");var i=!1;"audio"==t?(e.audioCountError++,e.audioCountError>3&&(i=!0)):(e.audioAnotherCountError++,e.audioAnotherCountError>3&&(i=!0)),i?e.currentAudio==t&&(console.log(e.currentLine),e.audioAnotherCountError=0,e.audioCountError=0,e.audio.src="",e.audioAnother.src="",e.next(!0)):(e[t].src=e.getUrlWithText(n),e[t].load(),e[t].play())}),3e3)},getUrl:function(t){var e=encodeURI(this.storyInfo.content[t]);return console.log(this.storyInfo.content[t]),"https://code.responsivevoice.org/getvoice.php?text=".concat(e,"&lang=vi&engie=g1&rate=0.53&key=32hDX4HJ&volume=1&gender=female")},getUrlWithText:function(t){return"https://code.responsivevoice.org/getvoice.php?text=".concat(t,"&lang=vi&engie=g1&rate=0.53&key=32hDX4HJ&volume=1&gender=female")},speak:function(){var t="audio"==this.currentAudio?"audioAnother":"audio";this[t].src=this.currentLine==this.storyInfo.content.length-1?"/audio/temp-audio.mp3":this.getUrl(this.currentLine+1),this[t].load(),this[this.currentAudio].play(),this.scrollText()},startSpeakLine:function(t){this.currentLine!=t?(this.reading||(this.reading=!0),this.currentLine=t,this.currentAudio="audio",this.audio.src=this.getUrl(this.currentLine),this.speak()):this.startSpeak()},next:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.reading){if(t){if(this.currentLine++,this.currentLine+1==this.storyInfo.content.length)return console.log("End chapter"),void this.nextChapter();this.startSpeakLine(this.currentLine+1)}else if(this.currentLine++,this.currentAudio="audio"==this.currentAudio?"audioAnother":"audio",this.currentLine==this.storyInfo.content.length)return console.log("End chapter"),void this.nextChapter();console.log("Next: "+this.currentLine),this.speak()}},nextChapter:function(){if(0==this.chapters.length)return this.showToast({type:"info",text:"Chương cuối!"}),void(this.loadingNewChapter=!1);var t=this.getIndex();if(t!=this.chapters.length-1){if(this.chapter_id=this.chapters[t+1].chapterId,this.chapter_url=this.chapters[t+1].href,this.loadingNewChapter)return;this.loadingNewChapter=!0,this.loadContent()}else this.showToast({type:"info",text:"Chương cuối!"});console.log(this.chapter_id,t)},prevChapter:function(){if(this.loadingNewChapter=!0,0==this.chapters.length)return this.showToast({type:"info",text:"Chương cuối!"}),void(this.loadingNewChapter=!1);var t=this.getIndex();0!=t?(this.chapter_id=this.chapters[t-1].chapterId,this.chapter_url=this.chapters[t-1].href,this.loadContent()):this.showToast({type:"info",text:"Chương đầu tiên. Không thể trở về!"}),console.log(this.chapter_id,t)},scrollText:function(){var t=document.getElementById("js-line-".concat(this.currentLine));t&&$(document.body).animate({scrollTop:t.offsetTop},100)},scrollToTop:function(t){var e=document.getElementById("main-content").offsetHeight,n=document.body;t?$(n).animate({scrollTop:-e},300):$(n).animate({scrollTop:this.scrollTop?-e:e},300)},scrollTo:function(t){var e=document.body.scrollTop+t;$(document.body).animate({scrollTop:e},100)},getChapters:function(t){this.chapters=t},getIndex:function(){var t=this;return this.chapters.findIndex((function(e){return e.chapterId==t.chapter_id}))},checkNumber:function(t){return t.keyCode>=48&&t.keyCode<=57},checkMax:function(){var t=document.getElementById("countdown-timer-input"),e=Number(t.value);e>720&&(t.value=720)},startCountDownTimer:function(){var t=document.getElementById("countdown-timer-input"),e=Number(t.value);0!=e?(this.dialogTimer=!1,this.showCountDownTimer(Date.now()+60*e*1e3)):this.showToast({type:"warning",text:"Xin hãy nhập số phút lớn hơn 0!"})},showCountDownTimer:function(t){var e=this;e.showTimer=!0,this.countDown=new Countdown({cont:document.querySelector(".countdown-timer-chapter"),date:t,outputTranslation:{hour:"",minute:"",second:""},endCallback:function(){e.showTimer=!1,e.startSpeak(!1),e.showToast({type:"error",text:"Hết giờ!"})},outputFormat:"hour|minute|second"}),this.countDown.start()}}),mounted:function(){var t=this;console.log("Mounted"),this.audio=document.getElementById("speech-audio"),this.audioAnother=document.getElementById("speech-audio-another"),this.updateConfig(),document.body.addEventListener("scroll",(function(){t.scrollTop=document.body.scrollTop<t.currentScrollPoint,t.currentScrollPoint=document.body.scrollTop})),window.addEventListener("keyup",(function(e){37==e.keyCode&&t.prevChapter(),39==e.keyCode&&t.nextChapter(),38==e.keyCode&&t.scrollTo(-240),40==e.keyCode&&t.scrollTo(240)}))},destroyed:function(){this.audio.pause(),this.audio.currentTime=0,this.audioAnother.pause(),this.audioAnother.currentTime=0}},m=g,b=(n("85f8"),n("2877")),y=n("6544"),_=n.n(y),C=n("8336"),k=n("b0af"),x=n("99d9"),w=n("62ad"),j=n("132d"),O=n("0fd9"),S=(n("caad"),n("d81d"),n("b0c0"),n("c7cd"),n("ade3")),T=(n("8cd0"),n("f2e7")),E=n("fe6c"),z=n("2b0e"),B=z["a"].extend({name:"transitionable",props:{mode:String,origin:String,transition:String}}),I=n("a293"),A=n("58df"),L=Object(A["a"])(E["a"],T["a"],B).extend({name:"v-speed-dial",directives:{ClickOutside:I["a"]},props:{direction:{type:String,default:"top",validator:function(t){return["top","right","bottom","left"].includes(t)}},openOnHover:Boolean,transition:{type:String,default:"scale-transition"}},computed:{classes:function(){var t;return t={"v-speed-dial":!0,"v-speed-dial--top":this.top,"v-speed-dial--right":this.right,"v-speed-dial--bottom":this.bottom,"v-speed-dial--left":this.left,"v-speed-dial--absolute":this.absolute,"v-speed-dial--fixed":this.fixed},Object(S["a"])(t,"v-speed-dial--direction-".concat(this.direction),!0),Object(S["a"])(t,"v-speed-dial--is-active",this.isActive),t}},render:function(t){var e=this,n=[],i={class:this.classes,directives:[{name:"click-outside",value:function(){return e.isActive=!1}}],on:{click:function(){return e.isActive=!e.isActive}}};if(this.openOnHover&&(i.on.mouseenter=function(){return e.isActive=!0},i.on.mouseleave=function(){return e.isActive=!1}),this.isActive){var r=0;n=(this.$slots.default||[]).map((function(e,n){return!e.tag||"undefined"===typeof e.componentOptions||"v-btn"!==e.componentOptions.Ctor.options.name&&"v-tooltip"!==e.componentOptions.Ctor.options.name?(e.key=n,e):(r++,t("div",{style:{transitionDelay:.05*r+"s"},key:n},[e]))}))}var o=t("transition-group",{class:"v-speed-dial__list",props:{name:this.transition,mode:this.mode,origin:this.origin,tag:"div"}},n);return t("div",i,[this.$slots.activator,o])}}),N=n("8654"),R=Object(b["a"])(m,i,r,!1,null,"42a41910",null);e["default"]=R.exports;_()(R,{VBtn:C["a"],VCard:k["a"],VCardTitle:x["a"],VCol:w["a"],VIcon:j["a"],VRow:O["a"],VSpeedDial:L,VTextField:N["a"]})},b0af:function(t,e,n){"use strict";n("0481"),n("4069"),n("a9e3");var i=n("5530"),r=(n("615b"),n("10d2")),o=n("297c"),a=n("1c87"),s=n("58df");e["a"]=Object(s["a"])(o["a"],a["a"],r["a"]).extend({name:"v-card",props:{flat:Boolean,hover:Boolean,img:String,link:Boolean,loaderHeight:{type:[Number,String],default:4},raised:Boolean},computed:{classes:function(){return Object(i["a"])(Object(i["a"])({"v-card":!0},a["a"].options.computed.classes.call(this)),{},{"v-card--flat":this.flat,"v-card--hover":this.hover,"v-card--link":this.isClickable,"v-card--loading":this.loading,"v-card--disabled":this.disabled,"v-card--raised":this.raised},r["a"].options.computed.classes.call(this))},styles:function(){var t=Object(i["a"])({},r["a"].options.computed.styles.call(this));return this.img&&(t.background='url("'.concat(this.img,'") center center / cover no-repeat')),t}},methods:{genProgress:function(){var t=o["a"].options.methods.genProgress.call(this);return t?this.$createElement("div",{staticClass:"v-card__progress",key:"progress"},[t]):null}},render:function(t){var e=this.generateRouteLink(),n=e.tag,i=e.data;return i.style=this.styles,this.isClickable&&(i.attrs=i.attrs||{},i.attrs.tabindex=0),t(n,this.setBackgroundColor(this.color,i),[this.genProgress(),this.$slots.default])}})},dc22:function(t,e,n){"use strict";function i(t,e){var n=e.value,i=e.options||{passive:!0};window.addEventListener("resize",n,i),t._onResize={callback:n,options:i},e.modifiers&&e.modifiers.quiet||n()}function r(t){if(t._onResize){var e=t._onResize,n=e.callback,i=e.options;window.removeEventListener("resize",n,i),delete t._onResize}}var o={inserted:i,unbind:r};e["a"]=o}}]);
//# sourceMappingURL=chunk-615daa93.3104a2af.js.map